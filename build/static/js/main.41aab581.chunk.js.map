{"version":3,"sources":["application/actions/users.js","application/actions/files.js","views/components/Validations/Text/styles.js","views/components/Validations/Text/index.js","views/components/Validations/Image/styles.js","views/components/Validations/Image/index.js","chest/CustomHooks.js","views/pages/RegisterUser/styles.js","views/pages/RegisterUser/index.js","views/pages/Login/styles.js","views/pages/Login/index.js","chest/utils.js","views/pages/Profile/styles.js","application/actions/friends.js","views/pages/Profile/index.js","views/components/Navbar/styles.js","views/components/Navbar/index.js","chest/files/pumpkin-logo.png","views/pages/Home/styles.js","views/pages/Home/index.js","views/pages/SearchUser/styles.js","views/components/Search/styles.js","views/components/Search/index.js","views/pages/SearchUser/index.js","application/actions/alert.js","application/actions/location.js","application/actions/blogs.js","views/components/EffectsManagement/index.js","views/pages/PublicProfile/styles.js","views/pages/PublicProfile/index.js","views/pages/PasswordReset/styles.js","views/pages/PasswordReset/index.js","views/pages/EditInfo/styles.js","views/pages/EditInfo/index.js","views/pages/WriteBlog/styles.js","views/pages/WriteBlog/index.js","views/index.js","reportWebVitals.js","chest/config.js","infrastructure/services/api/users/index.js","infrastructure/services/api/files/index.js","infrastructure/services/api/friends/index.js","infrastructure/services/api/blogs/index.js","infrastructure/services/api/index.js","infrastructure/services/log/index.js","infrastructure/index.js","application/reducers/alert.js","application/reducers/files.js","application/reducers/users.js","application/reducers/friends.js","application/reducers/location.js","application/reducers/blogs.js","application/reducers/index.js","application/store.js","application/middlewares/index.js","application/middlewares/mdw_users/index.js","application/middlewares/mdw_files/index.js","application/middlewares/mdw_friends/index.js","application/middlewares/mdw_blogs/index.js","mainStyles.js","index.js"],"names":["CREATE_NEW_USER","LOGIN_USER","SET_USER_INFO","GET_CURRENT_USER","LOGOUT_USER","GET_ALL_USERS","SET_USERS","GET_USER_BY_ID","SET_FOUND_USER","UPDATE_USER","UPDATE_PROFILE_IMAGE","REQUEST_PASSWORD_RESET","setUserInfo","userData","type","payload","getCurrentUser","logOut","getAllUsers","setUsers","users","setFoundUser","user","UPLOAD_FILE","FILE_INFO","Input","style","input","InputContainer","div","Error","p","Text","error","args","autoComplete","className","AddFile","button","Container","ImagePreview","img","InfoContainer","Info","Image","React","useState","file","setFile","src","setSrc","useEffect","console","log","validImageExtension","name","reader","FileReader","readAsDataURL","addEventListener","e","target","result","removeEventListener","alt","Date","lastModifiedDate","toLocaleDateString","size","onChange","event","files","opacity","position","USLImage","formik","fileUrl","callback","dependencies","firstRender","useRef","current","useUpdateEffect","errors","fname","fileExt","slice","Math","max","lastIndexOf","Infinity","toLowerCase","includes","PageContainer","SubmitButton","Textarea","textarea","FormDiv","RegisterUser","setUserData","useSelector","state","dispatch","useDispatch","history","useHistory","atLeast17","now","useFormik","initialValues","lastName","email","password","repeatPassword","date","onSubmit","data","photo","validationSchema","Yup","nullable","test","value","extensions","required","min","oneOf","about","createNewUser","push","handleSubmit","setFieldValue","placeholder","handleChange","to","createId","random","toString","parseObjectToUser","parseObject","get","userId","emailVerified","friends","undefined","properName","charAt","toUpperCase","UserInfo","EditInfo","FRequests","BlogsContainer","SEND_FRIEND_REQUEST","GET_FRIEND_REQUESTS","SET_FRIEND_REQUESTS","ACCEPT_FRIEND","DECLINE_FRIEND","DELETE_FRIEND","setFriendRequests","Profile","friendRequests","HandleFriends","HandleBlogs","blogs","all","map","blog","dangerouslySetInnerHTML","__html","content","length","fr","i","onClick","_","fromUser","Nav","nav","Navbar","loggedIn","handleLogout","a","preventDefault","Swal","fire","html","showDenyButton","confirmButtonText","denyButtonText","denyButtonColor","confirmButtonColor","isConfirmed","Home","pumpkin","Grid","UserCard","Fieldset","st","fieldset","Search","items","query","setQuery","list","id","item","connect","u","filter","str1","str2","simplifiedStr1","split","join","simplifiedStr2","Boolean","match","RegExp","theyMatch","find","friend","SHOW_SUCCESS","SHOW_WARNING","SHOW_ERROR","RESET_ALERT","showSuccess","message","showError","resetAlert","SET_LOCATION","setLocation","location","POST_BLOG","SET_BLOGS","GET_BLOGS","EffectsManagement","alert","show","icon","showConfirmButton","timer","then","go","href","foundUser","useParams","getUserById","PasswordResetButton","PasswordReset","setEmail","requestPasswordReset","image","updateUser","USLInput","Component","counterGen","counter","next","values","ButtonsContainer","WriteBlog","editor","setContent","ref","config","readonly","height","onBlur","newContent","MainView","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","APPLICATION_ID","process","PARSE_APPLICATION_ID","HOST_URL","PARSE_HOST_URL","JAVASCRIPT_KEY","PARSE_JAVASCRIPT_KEY","REST_API_KEY","PARSE_REST_API_KEY","initializeParse","Parse","initialize","serverURL","User","signUp","currentUser","Object","entries","forEach","feature","set","save","logIn","toJSON","Query","findAll","userQuery","equalTo","first","saveUser","login","logout","getAll","byId","update","passwordReset","toBase64","Promise","resolve","reject","onload","onerror","base64String","parseFile","File","base64","TFILE","extend","tfile","axios","headers","resp","results","fileId","url","saveFile","targetUserId","contains","targetUser","FriendRequests","res","accepted","from","foundFriendR","destroy","friendRequest","getFriendRequests","accept","decline","deleteFriend","Blog","blogQuery","allBlogs","post","MOBSTER_MODE","api","initialState","reducer","action","newData","combineReducers","services","updatedUser","GlobalStyles","ReactDOM","render","store","createStore","reducers","compose","applyMiddleware","middlewares","fn","document","getElementById"],"mappings":"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","file":"static/js/main.41aab581.chunk.js","sourcesContent":["export const CREATE_NEW_USER = \"[user] create new user\";\r\nexport const LOGIN_USER = \"[user] login user\";\r\nexport const SET_USER_INFO = \"[user] set user info\";\r\nexport const GET_CURRENT_USER = \"[user] get current user\";\r\nexport const LOGOUT_USER = \"[user] log out\";\r\nexport const GET_ALL_USERS = \"[user] get all users\";\r\nexport const SET_USERS = \"[user] set users\";\r\nexport const GET_USER_BY_ID = \"[user] get user by id\";\r\nexport const SET_FOUND_USER = \"[user] set found user\";\r\nexport const UPDATE_USER = \"[user] update user\";\r\nexport const UPDATE_PROFILE_IMAGE = \"[user] profile image\";\r\nexport const REQUEST_PASSWORD_RESET = \"[user] request password reset\";\r\n;\r\n\r\nexport const createNewUser = (userData) => {\r\n    return {\r\n        type: CREATE_NEW_USER,\r\n        payload: userData,\r\n    }\r\n}\r\n\r\nexport const loginUser = (userData) => {\r\n    return {\r\n        type: LOGIN_USER,\r\n        payload: userData,\r\n    }\r\n}\r\n\r\nexport const setUserInfo = (userData) => {\r\n    return {\r\n        type: SET_USER_INFO,\r\n        payload: userData,\r\n    }\r\n}\r\n\r\nexport const getCurrentUser = {type: GET_CURRENT_USER};\r\n\r\nexport const logOut = {type: LOGOUT_USER}\r\n\r\nexport const getAllUsers = {type: GET_ALL_USERS};\r\n\r\nexport const setUsers = (users) => ({type: SET_USERS, payload: users});\r\n\r\nexport const getUserById = (id) => ({type: GET_USER_BY_ID, payload: id});\r\n\r\nexport const setFoundUser = (user) => ({type: SET_FOUND_USER, payload: user});\r\n\r\nexport const updateUser  = (user) => ({type: UPDATE_USER, payload: user});\r\n\r\nexport const updateProfileImge = (image) => ({type: UPDATE_PROFILE_IMAGE, payload: image});\r\n\r\nexport const requestPasswordReset = (email) => ({type: REQUEST_PASSWORD_RESET, payload: email});\r\n","export const UPLOAD_FILE = \"[files] upload file\";\r\nexport const FILE_INFO = \"[files] file info\";\r\n\r\nexport const uploadFile = (file) => {\r\n    return {\r\n        type: UPLOAD_FILE,\r\n        payload: file\r\n    }\r\n}\r\n\r\nexport const fileInfo = (fileId) => ({\r\n    type: FILE_INFO,\r\n    payload: fileId\r\n})\r\n\r\n/*\r\nconst reader = new FileReader();\r\n    reader.readAsBinaryString(file);\r\n    reader.addEventListener(\"load\", (e)=> {\r\n        const base64String = window.btoa(e.target.result);\r\n        console.log(base64String);\r\n        return {\r\n            type\r\n        }\r\n    }); */","import style from \"styled-components\";\r\n\r\nexport const Input = style.input`\r\n    outline: none;\r\n    border: 1px solid #582ECE;\r\n    padding: 1em;\r\n    padding-bottom: 0.5em;\r\n    padding-left: 0.5em;\r\n    min-width: 100%;\r\n    border-radius: 5px;\r\n    margin: 0.4rem 0;\r\n`;\r\n\r\nexport const InputContainer = style.div`\r\n    width: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n`;\r\n\r\nexport const Error = style.p`\r\n    color: red;\r\n    margin: 0.1rem;\r\n    font-size: 0.8rem;\r\n    margin-left: 0.4rem;\r\n    margin-bottom: 0.5rem;\r\n`;","import React from \"react\";\r\nimport { Input, InputContainer, Error } from \"./styles.js\"\r\n\r\nexport default function Text({error, ...args}) {\r\n\r\n    return (\r\n        <InputContainer>\r\n            <Input \r\n            {...args}\r\n                autoComplete=\"off\"\r\n                className={error? \"error\" : \"normal\"}\r\n            />\r\n            {error && <Error>{error}</Error>}\r\n        </InputContainer>\r\n    )\r\n}","import style from \"styled-components\";\r\n\r\nexport const AddFile = style.button`\r\n    all: initial;\r\n    cursor: pointer;\r\n    font-family: 'Poppins', sans-serif;\r\n    padding: 0.4em .8em;\r\n    background: #6A18B8;\r\n    color: #FFF;\r\n    font-size: 1rem;\r\n    font-weight: 700;\r\n    text-align: center;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: relative;\r\n    width: 100%;\r\n    box-sizing: border-box;\r\n`;\r\n\r\nexport const Container = style.div`\r\n    width: 100%;\r\n    position: relative;\r\n    margin: 0.3rem 0;\r\n    border: 1px solid #6A18B8;\r\n    overflow: hidden;\r\n    border-radius: 0.2rem;\r\n`;\r\n\r\nexport const ImagePreview = style.img`\r\n    width: 100%;\r\n    height: 200px;\r\n    object-fit: scale-down;\r\n`;\r\n\r\nexport const InfoContainer = style.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n`;\r\n\r\nexport const Info = style.p`\r\n    margin: 0.2rem;\r\n    font-size: 0.7rem;\r\n`;\r\n\r\nexport const Error = style.p`\r\n    margin: 0.1rem;\r\n    font-size: 0.8rem;\r\n    color: red;\r\n`;","import React from 'react';\r\nimport { useUpdateEffect } from \"../../../../chest/CustomHooks\"\r\nimport { AddFile , Container, ImagePreview, InfoContainer, Info, Error} from \"./styles.js\";\r\n\r\nexport function Image({error, ...args}) {\r\n    const [file, setFile] = React.useState();\r\n    const [src, setSrc] = React.useState();\r\n\r\n    const handleFileChange = (event)=> {\r\n        setFile(event.target.files[0]);\r\n        args.onChange(event);\r\n    }\r\n\r\n    React.useEffect(()=> {\r\n        console.log(file)\r\n        if (validImageExtension(file?.name)){\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(file);\r\n            reader.addEventListener(\"load\", (e)=> {\r\n                setSrc(e.target.result)\r\n            });\r\n            return ()=>reader.removeEventListener(\"load\", ()=>{});\r\n        }else {\r\n            setSrc(null);\r\n        }\r\n    }, [file])\r\n    return <Container>\r\n        {src && <ImagePreview src={src} alt={file?.name}/>}\r\n        {src && \r\n            <InfoContainer>\r\n                <Info>{file?.name}</Info>\r\n                <Info>{new Date(file?.lastModifiedDate).toLocaleDateString()}</Info>\r\n                <Info>{file?.size / 1000} KB</Info>\r\n            </InfoContainer>\r\n        }\r\n        <AddFile>\r\n            {src? \"Cambiar archivo\" : \"Añadir archivo\"}\r\n            <input\r\n                {...args}\r\n                type=\"file\"\r\n                onChange={handleFileChange}\r\n                style={{opacity: \"0\", position: \"absolute\"}} \r\n            />\r\n        </AddFile>\r\n        {error && <Error className=\"error-message\">{error}</Error>}\r\n    </Container>\r\n}\r\n\r\n\r\nexport function USLImage({user, formik, ...args}) {\r\n    const [file, setFile] = React.useState();\r\n    const [src, setSrc] = React.useState(user?.fileUrl);\r\n\r\n    const handleFileChange = (event)=> {\r\n        setFile(event.target.files[0]);\r\n        args.onChange(event);\r\n    }\r\n \r\n    useUpdateEffect(()=> {\r\n        if (validImageExtension(file?.name)){\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(file);\r\n            reader.addEventListener(\"load\", (e)=> {\r\n                setSrc(e.target.result)\r\n            });\r\n            return ()=>reader.removeEventListener(\"load\", ()=>{});\r\n        }else {\r\n            setSrc(null);\r\n        }\r\n    }, [file])\r\n    return <Container>\r\n        {src && <ImagePreview src={src} alt={file?.name}/>}\r\n        {(src && file) && \r\n            <InfoContainer>\r\n                <Info>{file?.name}</Info>\r\n                <Info>{new Date(file?.lastModifiedDate).toLocaleDateString()}</Info>\r\n                <Info>{file?.size / 1000} KB</Info>\r\n            </InfoContainer>\r\n        }\r\n        <AddFile>\r\n            {src? \"Cambiar archivo\" : \"Añadir archivo\"}\r\n            <input\r\n                {...args}\r\n                type=\"file\"\r\n                onChange={handleFileChange}\r\n                style={{opacity: \"0\", position: \"absolute\"}} \r\n            />\r\n        </AddFile>\r\n        {formik?.errors[args.name] && <Error className=\"error-message\">{formik?.errors[args.name]}</Error>}\r\n    </Container>\r\n}\r\n\r\n\r\nexport function validImageExtension(fname) {\r\n    const extensions = [\"gif\", \"png\", \"jpg\", \"tiff\", \"tif\", \"raw\", \"bmp\", \"psd\", \"pdf\", \"eps\", \"svg\", \"ai\"];\r\n    const fileExt = fname?.slice((Math.max(0, fname.lastIndexOf(\".\")) || Infinity) + 1)?.toLowerCase();\r\n    return  extensions.includes(fileExt);\r\n}","import { useEffect, useRef } from \"react\";\r\n\r\n\r\nexport function useUpdateEffect(callback, dependencies) {\r\n    const firstRender = useRef(true);\r\n    useEffect(()=>{\r\n        if (firstRender.current) {\r\n            firstRender.current = false;\r\n            return;\r\n        }\r\n        return callback();\r\n    }, dependencies);\r\n}","import style from \"styled-components\";\r\n\r\nexport const PageContainer = style.div`\r\n    width: 100vw;\r\n    min-height: 100vh;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n \r\n    & > h4 { \r\n        font-weight: 500;\r\n        font-size: 1.3rem;\r\n        border-bottom: 1px solid #6A18B8;\r\n        margin: 2rem;\r\n    }\r\n\r\n    & > form {\r\n        display: grid;\r\n        grid-gap: 20px;\r\n        grid-template-columns: repeat(2, 1fr);\r\n        grid-auto-rows: minmax(100px, auto);\r\n        width: 60%;\r\n\r\n        & > div:nth-child(1) { /* Es el div que contiene a la seleccion de la imagen entre otros */\r\n            & > * {\r\n                margin: .5em 0;\r\n            }\r\n        }\r\n\r\n        & > div:nth-child(3) { /* Es el div que contiene al boton*/\r\n            grid-column: 1 / 3;\r\n\r\n            display: flex;\r\n            align-items: center;\r\n        }\r\n    }\r\n`;\r\n\r\nexport const SubmitButton = style.button`\r\n    all: initial;\r\n    cursor: pointer;\r\n    font-family: 'Poppins', sans-serif;\r\n    padding: 0.4em .8em;\r\n    background: #6A18B8;\r\n    color: #FFF;\r\n    font-size: 1rem;\r\n    font-weight: 700;\r\n    text-align: center;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: relative;\r\n    width: 95%;\r\n    margin: 1em 0;\r\n    border-radius: 5px; \r\n`;\r\n\r\n\r\nexport const Textarea = style.textarea`\r\n    width: 100%;\r\n    height: 100px;\r\n    border: 1px solid #582ECE;\r\n`;\r\n\r\nexport const FormDiv = style.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n`;","import React from \"react\";\r\nimport * as Yup from \"yup\";\r\nimport { useFormik } from \"formik\";\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { createNewUser } from \"../../../application/actions/users\";\r\nimport { uploadFile } from \"../../../application/actions/files\";\r\nimport Text from \"../../components/Validations/Text\";\r\nimport {Image} from \"../../components/Validations/Image\";\r\nimport { PageContainer, SubmitButton, Textarea, FormDiv } from \"./styles\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n \r\nexport default function RegisterUser({}) {\r\n    const [userData, setUserData] = React.useState();\r\n\r\n    const fileUrl = useSelector(state=> state.files.fileUrl);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const history = useHistory();\r\n\r\n    const atLeast17 = new Date(Date.now() - 536112000000); // Hoy menos 17 años en milisegundos\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            name: \"\",\r\n            lastName: \"\",\r\n            email: \"\",\r\n            password: \"\",\r\n            repeatPassword: \"\",\r\n            date: \"\",\r\n        },\r\n        onSubmit: (data) => {\r\n            dispatch(uploadFile(data.photo[0]));\r\n            delete data.photo;\r\n            setUserData(data);\r\n        },\r\n        validationSchema: Yup.object({\r\n            photo: Yup.array().nullable().test(\r\n                \"validate-image\",\r\n                \"El archivo no es válido\",\r\n                (value) => {\r\n                    return validImageExtension(value?.[0].name)\r\n                }\r\n            ),\r\n            name: Yup.string().required(\"El nombre es requerido\").min(3, \"Minimo 3 letras\"),\r\n            lastName: Yup.string().required(\"El apellido es requerido\").min(3, \"Minimo 3 letras\"),\r\n            email: Yup.string().email(\"Ingresa un email válido\").required(\"El email es requerido\"),\r\n            password: Yup.string().required(\"La contraseña es requerida\").min(10, \"Minimo 10 letras\"),\r\n            repeatPassword: Yup.string().oneOf([Yup.ref(\"password\"), null], \"Las contraseñas deben coincidir\"),\r\n            date: Yup.date(\"Ingresa una fecha válida\")\r\n            .required(\"La fecha es requerida\")\r\n            .max(atLeast17, \"Debes tener al menos 17 años\"),\r\n            about: Yup.string().max(100, \"Maximo 100 letras\"),\r\n        })\r\n    });\r\n\r\n    React.useEffect(()=> {\r\n        //REPARAR\r\n        if(userData) { \r\n            dispatch(createNewUser({...userData, fileUrl}));\r\n            history.push(\"/login\");\r\n        }\r\n    }, [fileUrl]);\r\n\r\n    return (\r\n        <PageContainer>\r\n            <h4>Ingrese sus datos</h4>\r\n            <form className=\"form-reg-user\" onSubmit={formik.handleSubmit}>\r\n                <FormDiv>\r\n                    Foto de perfil\r\n                    <Image name=\"photo\" error={formik.errors.photo} onChange={e=>formik.setFieldValue(\"photo\", [...e.target.files])}/>\r\n                    Fecha de nacimiento\r\n                    <Text type=\"date\" name=\"date\" placeholder=\"Fecha de nacimiento\" onChange={formik.handleChange} error={formik.errors.date}/>\r\n                </FormDiv>\r\n                <FormDiv>\r\n                    <Text type=\"text\" name=\"name\" placeholder=\"Ingrese su nombre\" onChange={formik.handleChange} error={formik.errors.name}/>\r\n\r\n                    <Text type=\"text\" name=\"lastName\" placeholder=\"Ingrese su Apellido\" onChange={formik.handleChange} error={formik.errors.lastName}/>\r\n\r\n                    <Text type=\"email\" name=\"email\" placeholder=\"Ingrese email\" onChange={formik.handleChange} error={formik.errors.email}/>\r\n\r\n                    <Text type=\"password\" name=\"password\" placeholder=\"Ingrese su contraseña\" onChange={formik.handleChange} error={formik.errors.password}/>\r\n\r\n                    <Text type=\"password\" name=\"repeatPassword\" placeholder=\"Repita su contraseña\" onChange={formik.handleChange} error={formik.errors.repeatPassword}/>\r\n                    \r\n               \r\n                    <Textarea \r\n                        name=\"about\" \r\n                        placeholder=\"Escribe un poco sobre ti\" \r\n                        onChange={formik.handleChange} \r\n                    ></Textarea>\r\n                </FormDiv>\r\n                \r\n                <FormDiv>\r\n                    <SubmitButton type=\"submit\">Entregar</SubmitButton>\r\n                </FormDiv>\r\n            </form>\r\n        </PageContainer>\r\n    );\r\n}\r\n\r\n\r\nfunction validImageExtension(fname) {\r\n    const extensions = [\"gif\", \"png\", \"jpg\", \"tiff\", \"tif\", \"raw\", \"bmp\", \"psd\", \"pdf\", \"eps\", \"svg\", \"ai\"];\r\n    const fileExt = fname?.slice((Math.max(0, fname.lastIndexOf(\".\")) || Infinity) + 1)?.toLowerCase();\r\n    return  extensions.includes(fileExt);\r\n}","import style from \"styled-components\";\r\n\r\nexport const PageContainer = style.div`\r\n    width: 100vw;\r\n    min-height: 100vh;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n\r\n    & > h4 { \r\n        font-weight: 500;\r\n        font-size: 1.3rem;\r\n        border-bottom: 1px solid #6A18B8;\r\n        margin: 2rem;\r\n    }\r\n\r\n    & > form {\r\n        width: 500px;\r\n    }\r\n`;\r\n\r\nexport const SubmitButton = style.button`\r\n    all: initial;\r\n    cursor: pointer;\r\n    font-family: 'Poppins', sans-serif;\r\n    padding: 0.4em .8em;\r\n    background: #6A18B8;\r\n    color: #FFF;\r\n    font-size: 1rem;\r\n    font-weight: 700;\r\n    text-align: center;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: relative;\r\n    min-width: 100%;\r\n    margin: 1em 0;\r\n    border-radius: 5px;\r\n`;\r\n","import React from \"react\";\r\nimport * as Yup from \"yup\";\r\nimport { useFormik } from \"formik\";\r\nimport { useDispatch } from 'react-redux';\r\nimport { loginUser } from \"../../../application/actions/users\";\r\nimport Text from \"../../components/Validations/Text\";\r\nimport { PageContainer, SubmitButton } from \"./styles\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\n\r\n\r\nexport default function RegisterUser({}) {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const history = useHistory();\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            email: \"\",\r\n            password: \"\",\r\n        },\r\n        onSubmit: (data) => {\r\n            dispatch(loginUser(data));\r\n        },\r\n        validationSchema: Yup.object({\r\n            email: Yup.string().required(\"El email es requerido\"),\r\n            password: Yup.string().required(\"La contraseña es requerida\"),\r\n        })\r\n    });\r\n\r\n\r\n    return (\r\n        <PageContainer>\r\n            <h4>Ingrese sus datos</h4>\r\n            <form className=\"form-reg-user\" onSubmit={formik.handleSubmit}>\r\n                <Text type=\"email\" name=\"email\" placeholder=\"Ingrese email\" onChange={formik.handleChange} error={formik.errors.email}/>\r\n                <Text type=\"password\" name=\"password\" placeholder=\"Ingrese su contraseña\" onChange={formik.handleChange} error={formik.errors.password}/>\r\n                <SubmitButton type=\"submit\">Entregar</SubmitButton>\r\n            </form>\r\n            <Link to=\"change-password\">¿Olvidaste tu contraseña?</Link>\r\n        </PageContainer>\r\n    );\r\n}\r\n\r\n","export const createId = ()=> Math.random().toString(16).slice(2);\r\n\r\n // ONLY USE ON API\r\nexport const parseObjectToUser = (parseObject) => parseObject\r\n? ({\r\n    name: parseObject?.get(\"name\"),\r\n    lastName: parseObject?.get(\"lastName\"),\r\n    email: parseObject?.get(\"email\"),\r\n    fileUrl: parseObject?.get(\"fileUrl\"),\r\n    about: parseObject?.get(\"about\"),\r\n    userId: parseObject?.get(\"userId\"),\r\n    date: parseObject?.get(\"date\"),\r\n    emailVerified : parseObject?.get(\"emailVerified\"),\r\n    friends : parseObject?.get(\"friends\"),\r\n}) \r\n: undefined;\r\n\r\nexport function theyMatch(str1, str2) {\r\n    const simplifiedStr1 = str1.toLowerCase().split(\" \").join(\"\");\r\n    const simplifiedStr2 = str2.toLowerCase().split(\" \").join(\"\");\r\n    return Boolean(simplifiedStr1.match(new RegExp(simplifiedStr2)));\r\n}\r\n\r\nexport function properName(name=\"\", lastName=\"\") {\r\n    return name?.charAt(0).toUpperCase()+name?.slice(1)+\" \"+lastName?.charAt(0).toUpperCase()+lastName?.slice(1);\r\n}","import style from \"styled-components\";\r\n//background: #3C3A3E;\r\nexport const PageContainer = style.div`\r\n    width: 100vw;\r\n    min-height: 100vh;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: relative;\r\n\r\n    & > section { \r\n        outline: 2px solid #6314a8;\r\n        position: relative;\r\n        margin-top: 2rem;\r\n        width: 70vw;\r\n        height: 500px;\r\n        overflow: hidden;\r\n        border-radius: 10px;\r\n        display: flex;\r\n        \r\n        @media (max-width: 702px) {\r\n            order: 1;\r\n        }\r\n\r\n        & > span:nth-child(2) {\r\n            position: absolute;\r\n            left: 30%;\r\n            top: 5%;\r\n            background: red;\r\n            color: #FFF;\r\n            padding: 0.3em 0.5em;\r\n        }\r\n\r\n        & > span:nth-child(1) {\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            position: relative;\r\n            width: 300px;\r\n            padding: 0;\r\n            height: 300px;\r\n\r\n            & > img {\r\n                width: 200px;\r\n                height: 200px;\r\n                border-radius: 50%;\r\n                object-fit: cover;\r\n                position: relative;\r\n                z-index: 1000;\r\n            }\r\n            &::after {\r\n                content: \"\";\r\n                position: absolute;\r\n                top: 50%;\r\n                left: 50%;\r\n                transform: translate(-50%, -50%);\r\n                display: inline-block;\r\n                width: 210px;\r\n                height: 210px;\r\n                border-radius: 50%;\r\n                background-image: linear-gradient(45deg, #6314a8 0%, #6314a8 50%, #fff 50%, #fff 100%);\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\n\r\nexport const BackgroundGradient = style.div`\r\n    margin-top: 2rem;\r\n    width: 70vw;\r\n    height: 500px;  \r\n    position: absolute;\r\n    border-radius: 10px 50px;\r\n    filter: blur(0.2rem);\r\n    background: linear-gradient(#E30D0D, #6A18B8);\r\n`;\r\n\r\nexport const UserInfo = style.div`\r\n    height: 200px;\r\n    min-width: 50%;\r\n    padding: 0 1em;\r\n    margin: auto 1rem;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n    border-bottom: 1px solid #6314a8;\r\n    border-radius: 10px;\r\n\r\n    & > div {\r\n        padding: 0.5em;\r\n    }\r\n`;\r\n\r\nexport const EditInfo = style.div`\r\n    margin: 2rem 0 0 1em;\r\n    width: 50px;\r\n    height: 500px;\r\n    position: relative;\r\n    border-radius: 10px;\r\n    background: #FFF;\r\n    outline: 1px dashed #333;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n\r\n    @media (max-width: 920px) {\r\n        width: 70vw;\r\n        height: 100px;\r\n        display: flex;\r\n        flex-direction: row;\r\n        align-items: center;\r\n        order: 2;\r\n    }\r\n\r\n    & > a {\r\n        display: flex;\r\n        text-decoration: none;\r\n        align-items: center;\r\n        color: 6A18B8;\r\n        margin: 0.6em 0;\r\n\r\n        & > * {\r\n            margin: 0 0.2rem;\r\n        }\r\n\r\n        margin: 1em 0.2em;\r\n    }\r\n`;\r\n\r\nexport const FRequests = style.div`\r\n    width: 200px;\r\n    height: 500px;\r\n    border: 1px solid #582ECE;\r\n    border-radius: 10px;\r\n    margin: 0.5em;\r\n    margin-top: 2rem;\r\n    padding: 0.5em;\r\n\r\n    @media (max-width: 702px) {\r\n        order: 3;\r\n        width: 70vw;\r\n        height: 300px;\r\n    }\r\n\r\n    & > div {\r\n        & div {\r\n            display: flex;\r\n            justify-content: space-around;\r\n            align-items: center;\r\n            & > button, a {\r\n                all: initial;\r\n                font-family: inherit;\r\n                font-size: 0.85rem;\r\n                cursor: pointer;\r\n                margin: 0 0.5em;\r\n            }\r\n            & > img {\r\n                width: 30px;\r\n                height: 30px;\r\n                object-fit: cover;\r\n                border-radius: 50%;\r\n            }\r\n            & > button { font-size: 0.6rem;}\r\n        }\r\n    }\r\n\r\n`;\r\n\r\nexport const BlogsContainer = style.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 80vw;\r\n    & > div {\r\n        border: 1px solid #ccc;\r\n        margin: 1em 0;\r\n        padding: 1em;\r\n        width: 100%;\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n    }\r\n`;","export const SEND_FRIEND_REQUEST = \"[friend] send friend request\";\r\nexport const GET_FRIEND_REQUESTS = \"[friend] get friend request\";\r\nexport const SET_FRIEND_REQUESTS = \"[friend] set friend request\";\r\nexport const ACCEPT_FRIEND = \"[friend] accept friend\";\r\nexport const DECLINE_FRIEND = \"[friend] decline friend\";\r\nexport const DELETE_FRIEND = \"[friend] delete friend\";\r\n\r\nexport const sendFriendRequest = (userId) => ({type: SEND_FRIEND_REQUEST, payload: userId});\r\n\r\nexport const getFriendRequests = () => ({type: GET_FRIEND_REQUESTS});\r\n\r\nexport const setFriendRequests = (friends) => ({type: SET_FRIEND_REQUESTS, payload: friends});\r\n\r\nexport const declineFriend = (friend)=> ({type: DECLINE_FRIEND, payload: friend});\r\n\r\nexport const acceptFriend = (friend)=> ({type: ACCEPT_FRIEND, payload: friend});\r\n\r\nexport const deleteFriend = (friend)=> ({type: DELETE_FRIEND, payload: friend})","import React, { useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { properName } from \"../../../chest/utils\";\r\nimport { PageContainer, FRequests, UserInfo, EditInfo, BlogsContainer } from \"./styles\";\r\nimport { RiFileEditFill, RiLockPasswordFill } from \"react-icons/ri\";\r\nimport { MdOutlineArticle } from \"react-icons/md\";\r\nimport ReactTooltip from 'react-tooltip';\r\nimport { acceptFriend, declineFriend, deleteFriend } from \"../../../application/actions/friends\";\r\n\r\nexport default function Profile({}) {\r\n    const user = useSelector(state=> state.users.data);\r\n\r\n\r\n    const { friendRequests } = useSelector(state=> state.friends);\r\n\r\n    \r\n    const dispatch = useDispatch();\r\n\r\n\r\n    return <>\r\n        \r\n        <PageContainer> \r\n            <HandleFriends {...{user, friendRequests, dispatch}}/>\r\n            <section>\r\n                <span>\r\n                    <img src={user?.fileUrl} alt=\"profile picture\"/>\r\n                </span>\r\n                {!(user?.emailVerified) && <span>Verifica tu email</span>}\r\n                <UserInfo>\r\n                    <span></span>\r\n                    {user && <div>\r\n                        <p>{properName(user.name, user.lastName)}</p>\r\n                        <p>{user.email}</p>\r\n                        {user.about && <p>Sobre {properName(user.name)}: {user.about}</p>}\r\n                        {user.date && <p>Fecha de nacimiento {user.date}</p>}\r\n                    </div>}\r\n                    <span></span> \r\n                </UserInfo>\r\n            </section>\r\n\r\n            <EditInfo>\r\n                <Link to={\"/edit-info\"} data-tip=\"Editar información\">\r\n                    <RiFileEditFill size={30}/>\r\n                </Link>\r\n                <Link to={\"/change-password\"} data-tip=\"Cambiar contraseña\">\r\n                    <RiLockPasswordFill size={30}/>\r\n                </Link>\r\n                <Link to={\"/write-blog\"} data-tip=\"Crear blog\">\r\n                    <MdOutlineArticle size={30}/>\r\n                </Link>\r\n            </EditInfo>\r\n\r\n            <HandleBlogs/>\r\n\r\n            <ReactTooltip />\r\n        </PageContainer>\r\n    </>;\r\n}\r\n\r\n\r\nfunction HandleBlogs() {\r\n    const blogs = useSelector(state=> state.blogs.all);\r\n    return (\r\n        <BlogsContainer>\r\n            <p>Publicaciones</p>\r\n            {blogs && (\r\n                blogs.map(blog=> <>\r\n                    {blog.date && <p>Fecha: {blog.date}</p>}\r\n                    <div dangerouslySetInnerHTML={{__html: blog.content}}></div>\r\n                </>)\r\n                )\r\n            }\r\n        </BlogsContainer>\r\n    );\r\n}\r\n\r\nfunction HandleFriends({user, friendRequests, dispatch}) {\r\n    return (\r\n        <FRequests>\r\n                <div>\r\n                    <p>Amigos</p>\r\n                    {(user?.friends?.length > 0 ) && (\r\n                        <div>\r\n                            {user.friends.map((fr, i)=> (\r\n                                <div key={i}>\r\n                                    <img src={fr.fileUrl} alt=\"friend-image\"/> \r\n                                    <Link to={\"/profile/\"+fr.userId}>{fr.name}</Link>\r\n                                    <button onClick={_=>dispatch(deleteFriend(fr))}>Eliminar</button>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    ) }\r\n                </div>\r\n                <div>\r\n                <p>Solicitudes de amistad</p>\r\n                    {(friendRequests?.length > 0 ) && (\r\n                        <div>\r\n                            {friendRequests.map((fr, i)=> (\r\n                                <div key={i}>\r\n                                    <Link to={\"/profile/\"+fr?.fromUser.userId}>{fr?.fromUser.name}</Link>\r\n                                    <button onClick={_=>dispatch(acceptFriend(fr))}>Aceptar</button>\r\n                                    <button onClick={_=>dispatch(declineFriend(fr))}>Denegar</button>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    ) }\r\n                </div>\r\n            </FRequests>\r\n    );\r\n}","import style from \"styled-components\";\r\nexport const Nav = style.nav`\r\n    display: flex;\r\n    align-items: center;\r\n    background: #6314a8;\r\n    width: 100%;\r\n    & > * {\r\n        margin: 0.3em 1em;\r\n        text-decoration: none;\r\n        color: #FFF;\r\n    }\r\n`","import { Nav } from \"./styles.js\";\r\nimport React from \"react\";\r\nimport { logOut } from \"../../../application/actions/users\"\r\nimport { Link } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nexport default function Navbar({}) {\r\n    const dispatch = useDispatch();\r\n    const loggedIn = useSelector(state=> state.users.loggedIn)\r\n\r\n    const handleLogout = async e=> {\r\n        e.preventDefault();\r\n        const { isConfirmed } = await Swal.fire({\r\n            html: `<p>¿Seguro que quieres cerrar sesión?</p>`,\r\n            showDenyButton: true,\r\n            confirmButtonText: 'Cerrar sesión',\r\n            denyButtonText: `Cancelar`,\r\n            denyButtonColor: \"#D9D9D9\",\r\n            confirmButtonColor: \"#6A18B8\",\r\n        });\r\n        if (isConfirmed) {\r\n            dispatch(logOut);\r\n        }\r\n    }\r\n\r\n    React.useEffect(()=> { console.log(loggedIn)}, [loggedIn]);\r\n\r\n    return (\r\n        <Nav>\r\n            <Link to=\"/\">Inicio</Link>\r\n            {loggedIn? <>\r\n                <Link to=\"/search/user\">Buscar usuario</Link>\r\n                <Link to=\"/profile\">Perfil</Link>\r\n                <Link to=\"\" onClick={handleLogout}>Salir</Link>\r\n            </> : <>\r\n                <Link to=\"/signup\">Registrarse</Link>\r\n                <Link to=\"/login\">Iniciar sesión</Link>\r\n            </>}\r\n        </Nav>\r\n    )\r\n}","export default __webpack_public_path__ + \"static/media/pumpkin-logo.692c8a96.png\";","import style from \"styled-components\";\r\n\r\nexport const PageContainer = style.div`\r\n    width: 100vw;\r\n    min-height: 100vh;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n\r\n    & > p {\r\n        width: 80%;\r\n        text-align: center;\r\n    }\r\n\r\n    & > span {\r\n        color: #FFC3BA;\r\n    }\r\n\r\n    & > img {\r\n        margin: 2rem;\r\n    }\r\n`;\r\n\r\n","import React from 'react';\r\nimport pumpkin from \"../../../chest/files/pumpkin-logo.png\";\r\nimport { PageContainer } from \"./styles\";\r\nexport default function Home({}) {\r\n\r\n\r\n    return (\r\n        <PageContainer>\r\n            <img src={pumpkin}/>\r\n            <p>Una pequeña red social openSource que aspira a ser una alternativa que escucha a la comunidad.</p>\r\n        </PageContainer>\r\n    );\r\n}","import style from \"styled-components\";\r\n\r\nexport const PageContainer = style.div`\r\n    width: 100vw;\r\n    min-height: 100vh;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n`;\r\n\r\nexport const Grid = style.div`\r\n    display: flex;\r\n    width: 100%;\r\n    flex-wrap: wrap;\r\n`;\r\n\r\nexport const UserCard = style.div`\r\n    width: 300px;\r\n    height: 350px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    border: 1px dashed blue;\r\n    border-radius: 10px;\r\n    padding: 1em;\r\n    margin: 1em;\r\n\r\n    & > img {\r\n        width: 100px;\r\n        height: 100px;\r\n        border-radius: 50%;\r\n        object-fit: cover;\r\n    }\r\n\r\n    & > div {\r\n        display: flex;\r\n        & > a {\r\n            text-decoration: none;\r\n            color: #333;\r\n            padding: 0.2em 1.2em;\r\n            margin: 0.2em;\r\n            border: 1px solid blue;\r\n            border-radius: 10px;    \r\n        }\r\n    }\r\n`;","import st from \"styled-components\";\r\n\r\n\r\nexport const Fieldset = st.fieldset`\r\n    display: flex;\r\n    width: 50%;\r\n    padding: 0;\r\n    margin: 2em;\r\n    & > div {\r\n        dislay: flex;\r\n        width: 100%;\r\n        padding: 0.1em;\r\n    }\r\n\r\n    & > div > input {\r\n        border: none;\r\n        width: 100%;\r\n\r\n        &:focus {\r\n            outline: none;\r\n        }\r\n    }\r\n`;","import React from \"react\";\r\nimport { createId } from \"../../../chest/utils\";\r\nimport { Fieldset } from \"./styles\";\r\n\r\n\r\n\r\nexport default function Search({items, query, setQuery}) {\r\n\r\n\r\n\r\n    return <> \r\n        <Fieldset>\r\n            <legend>Buscar</legend>\r\n            <div>\r\n                <input value={query} onChange={(e)=>setQuery(e.target.value)} list=\"data-list\"/>\r\n\r\n                <datalist id=\"data-list\">\r\n                    {items && items.map(item=> (\r\n                        <option value={item} key={createId()} />\r\n                    ))}\r\n                </datalist>\r\n            </div>\r\n        </Fieldset>\r\n    </>;\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport { PageContainer } from \"./styles\";\r\nimport { useDispatch, useSelector, connect } from \"react-redux\";\r\nimport { theyMatch, properName, createId } from \"../../../chest/utils\";\r\nimport Search from \"../../components/Search\";\r\nimport { getAllUsers } from \"../../../application/actions/users\";\r\nimport { sendFriendRequest } from \"../../../application/actions/friends\";\r\nimport { Grid, UserCard } from \"./styles\";\r\nimport { Link } from \"react-router-dom\"\r\n\r\nfunction SearchUser({users}) {\r\n    const allUsers = useSelector(state=>state.users.all);\r\n    const friends = useSelector(state=>state.users.data?.friends);\r\n    const [query, setQuery] = useState(\"\");\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(()=> { dispatch(getAllUsers) }, []);\r\n\r\n    return (\r\n        <PageContainer>\r\n            <Search {...{query, setQuery, items: users?.map(u=>properName(u.name, u.lastName))}}></Search>\r\n            <Grid>\r\n            {users?.filter(u=>theyMatch(properName(u.name, u.lastName), query)).map(user=> {\r\n                return (\r\n                    <UserCard key={createId()}>\r\n                        <img src={user.fileUrl}/>\r\n                        <p>{properName(user.name, user.lastName)}</p>\r\n                        <p>{\r\n                            (user.about)\r\n                            ? user.about?.slice(0, 100) + (user.about?.length>100 ? \"...\" : \"\")\r\n                            : \"\"\r\n                        }</p>\r\n                        {!user.emailVerified && <small>Email sin verificar</small>}\r\n                        <div>\r\n                            <Link to={\"/profile/\"+user.userId} >Visitar</Link>\r\n                            {!(friends?.find(friend => friend.userId === user.userId))\r\n                            ?<Link to={\"/\"} onClick={e=>{\r\n                                e.preventDefault();\r\n                                dispatch(sendFriendRequest(user.userId));\r\n                            }}>Agregar</Link>\r\n                            :<></>\r\n                        }\r\n                        </div>\r\n                    </UserCard>\r\n                )\r\n            })}\r\n            </Grid>\r\n        </PageContainer>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: state.users.all\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(SearchUser);","export const SHOW_SUCCESS = '[alert] show success';\r\nexport const SHOW_WARNING = '[alert] show warning';\r\nexport const SHOW_ERROR = '[alert] show error';\r\nexport const RESET_ALERT = '[alert] reset alert';\r\n\r\nexport const showSuccess = (message) => ({\r\n    type: SHOW_SUCCESS,\r\n    payload: message,\r\n});\r\nexport const showWarning = (message) => ({\r\n    type: SHOW_WARNING,\r\n    payload: message,\r\n});\r\nexport const showError = (message) => ({\r\n    type: SHOW_ERROR,\r\n    payload: message,\r\n});\r\n\r\nexport const resetAlert = {type: RESET_ALERT};","export const SET_LOCATION = \"[location] set location\";\r\n\r\nexport const setLocation = (location) => ({type: SET_LOCATION, payload: location});","export const POST_BLOG = \"[blog] post blog\";\r\nexport const SET_BLOGS = \"[blog] set blogs\";\r\nexport const GET_BLOGS = \"[blog] get blogs\";\r\n\r\nexport const postBlog = (blog) => ({type: POST_BLOG, payload: blog}); \r\n\r\nexport const setBlogs = (blogs) => ({type: SET_BLOGS, payload: blogs});\r\n\r\nexport const getBlogs = () => ({type: GET_BLOGS});","import React, { useEffect } from \"react\";\r\nimport Swal from \"sweetalert2\";\r\nimport { useHistory } from \"react-router\";\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { resetAlert } from \"../../../application/actions/alert\";\r\nimport { setLocation } from \"../../../application/actions/location\";\r\nimport { getCurrentUser, getAllUsers } from \"../../../application/actions/users\";\r\nimport { getBlogs } from \"../../../application/actions/blogs\";\r\nimport { getFriendRequests } from \"../../../application/actions/friends\";\r\n\r\nexport default function EffectsManagement({}) {\r\n    const alert = useSelector((state)=>state.alert);\r\n    const location  = useSelector((state)=>state.location);\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n     \r\n    useEffect(()=> {\r\n        if (alert.show) {\r\n            Swal.fire({\r\n                position: 'top-end',\r\n                icon: alert.type,\r\n                html: `<p style=\"font-family:'Poppins',sans-serif;font-size:1.3rem\">${alert.message}</p>`,\r\n                showConfirmButton: false,\r\n                timer: 3000,\r\n            }).then(()=> {\r\n                dispatch(resetAlert);\r\n            })\r\n        }\r\n    }, [alert]);\r\n\r\n    useEffect(()=> { \r\n        dispatch(getCurrentUser);\r\n        dispatch(getFriendRequests());\r\n        dispatch(getBlogs());\r\n     }, []);\r\n\r\n\r\n    useEffect(()=> { \r\n        if (location.go) {\r\n            history.push(location.href);\r\n            dispatch(setLocation({href: \"\", go: false}))\r\n        }\r\n    }, [location]);\r\n\r\n    return <></>\r\n}","import style from \"styled-components\";\r\n//background: #3C3A3E;\r\nexport const PageContainer = style.div`\r\n    width: 100vw;\r\n    min-height: 100vh;\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: relative;\r\n\r\n    & > section { \r\n        outline: 2px solid #6314a8;\r\n        position: relative;\r\n        margin-top: 2rem;\r\n        width: 70vw;\r\n        height: 500px;\r\n        overflow: hidden;\r\n        border-radius: 10px;\r\n        display: flex;\r\n\r\n        & > span:nth-child(2) {\r\n            position: absolute;\r\n            left: 30%;\r\n            top: 5%;\r\n            background: red;\r\n            color: #FFF;\r\n            padding: 0.3em 0.5em;\r\n        }\r\n\r\n        & > span:nth-child(1) {\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            position: relative;\r\n            width: 300px;\r\n            padding: 0;\r\n            height: 300px;\r\n\r\n            & > img {\r\n                width: 200px;\r\n                height: 200px;\r\n                border-radius: 50%;\r\n                object-fit: cover;\r\n                position: relative;\r\n                z-index: 1000;\r\n            }\r\n            &::after {\r\n                content: \"\";\r\n                position: absolute;\r\n                top: 50%;\r\n                left: 50%;\r\n                transform: translate(-50%, -50%);\r\n                display: inline-block;\r\n                width: 210px;\r\n                height: 210px;\r\n                border-radius: 50%;\r\n                background-image: linear-gradient(45deg, #6314a8 0%, #6314a8 50%, #fff 50%, #fff 100%);\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\n\r\nexport const BackgroundGradient = style.div`\r\n    margin-top: 2rem;\r\n    width: 70vw;\r\n    height: 500px;  \r\n    position: absolute;\r\n    border-radius: 10px 50px;\r\n    filter: blur(0.2rem);\r\n    background: linear-gradient(#E30D0D, #6A18B8);\r\n`;\r\n\r\nexport const UserInfo = style.div`\r\n    height: 200px;\r\n    min-width: 50%;\r\n    padding: 0 1em;\r\n    margin: auto 1rem;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n    border-bottom: 1px solid #6314a8;\r\n    border-radius: 10px;\r\n\r\n    & > div {\r\n        padding: 0.5em;\r\n    }\r\n`;\r\n\r\nexport const EditInfo = style.div`\r\n    margin: 2rem 0 0 1em;\r\n    width: 50px;\r\n    height: 500px;\r\n    position: relative;\r\n    border-radius: 10px;\r\n    background: #FFF;\r\n    outline: 1px dashed #333;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n\r\n    & > a {\r\n        display: flex;\r\n        text-decoration: none;\r\n        align-items: center;\r\n        color: 6A18B8;\r\n        margin: 0.6em 0;\r\n\r\n        & > * {\r\n            margin: 0 0.2rem;\r\n        }\r\n\r\n        margin: 1em 0.2em;\r\n    }\r\n`;","import React, { useEffect, } from \"react\";\r\nimport { getUserById } from \"../../../application/actions/users\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport { properName } from \"../../../chest/utils\";\r\nimport { PageContainer, BackgroundGradient, UserInfo, EditInfo } from \"./styles\";\r\nimport { RiFileEditFill } from \"react-icons/ri\";\r\n \r\nexport default function Profile({}) {\r\n    const user = useSelector(state=> state.users.foundUser);\r\n    const dispatch = useDispatch();\r\n    const { id } = useParams();\r\n\r\n    console.log(user)\r\n\r\n    useEffect(()=> {\r\n        dispatch(getUserById(id))\r\n    }, [id]);\r\n\r\n\r\n    return <>\r\n        {user?.name? <PageContainer>\r\n            <section>\r\n            <span>\r\n                    <img src={user?.fileUrl} alt=\"profile picture\"/>\r\n                </span>\r\n                <UserInfo>\r\n                    <span></span>\r\n                    <div>\r\n                        <p>{properName(user.name, user.lastName)}</p>\r\n                        <p>{user.email}</p>\r\n                        {user.about && <p>Sobre {properName(user.name, user.lastName)}: {user.about}</p>}\r\n                        {user.date && <p>Fecha de nacimiento {user.date}</p>}\r\n                    </div>\r\n                    <span></span>\r\n                </UserInfo>\r\n            </section>\r\n\r\n        </PageContainer>\r\n        \r\n        :\r\n        <PageContainer>Usuario no encontrado</PageContainer>}\r\n    </>\r\n}","import style from \"styled-components\";\r\n\r\nexport const PageContainer = style.div`\r\n    margin: 0;\r\n    width: 100vw;\r\n    height: 100vh;\r\n    display: grid;\r\n    place-items: center;\r\n\r\n    & > section {\r\n        box-shadow: 5px 6px 23px -5px rgba(159,146,146,0.89);\r\n        display: flex;\r\n        flex-direction: column;\r\n        padding: 1em;\r\n\r\n        & > h4 {\r\n            font-weight: 600;\r\n            margin: 1em 0;\r\n            padding: 0.6em 0;\r\n            border-bottom: 1px solid rgba(159,146,146,0.4);\r\n        }\r\n        \r\n        & > img {\r\n            height: 200px;\r\n            width: 400px;\r\n            object-fit: cover;\r\n        }\r\n\r\n        & > input {\r\n            all: initial;\r\n            font: inherit;\r\n            margin: 0.5em 0;\r\n            padding: 0.5em;\r\n            font-size: 0.9rem;\r\n            border: 1px solid rgba(159,146,146,0.4);\r\n        }\r\n\r\n        & > button {\r\n            all: initial;\r\n            font: inherit;\r\n            margin: 0.5em 0;\r\n            padding: 0.5em;\r\n            font-size: 0.9rem;\r\n            border: 1px solid rgba(159,146,146,0.4);\r\n            text-align: center;\r\n\r\n            &:hover {\r\n                background: rgba(159,146,146,0.3);\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const PasswordResetButton = style.button`\r\n\r\n`;","import React, { useState } from 'react';\r\nimport { PageContainer, PasswordResetButton } from \"./styles\";\r\nimport pumpkin from \"../../../chest/files/pumpkin-logo.png\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { requestPasswordReset } from \"../../../application/actions/users\";\r\n\r\nexport default function PasswordReset() {\r\n    const [email, setEmail] = useState(\"\");\r\n\r\n    const dispatch = useDispatch();\r\n    \r\n    const handlePasswordReset = (e)=> {\r\n        e.preventDefault();\r\n        dispatch(requestPasswordReset(email))\r\n    }\r\n\r\n    return (\r\n        <PageContainer>\r\n            <section>\r\n                <img alt=\"app-image\" src={pumpkin}/>\r\n\r\n                <h4>Cambio de contraseña</h4>\r\n\r\n                <input \r\n                value = { email }\r\n                onChange = { e=>setEmail(e.target.value) }\r\n                placeholder = \"Ingresa tu email para continuar.\"/>\r\n\r\n                <PasswordResetButton onClick={handlePasswordReset}>\r\n                    Solicitar reinicio de contraseña\r\n                </PasswordResetButton>\r\n            </section>\r\n        </PageContainer>\r\n    );\r\n}","import style from \"styled-components\";\r\n\r\nexport const PageContainer = style.div`\r\n    width: 100vw;\r\n    min-height: 100vh;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n\r\n    & > h4 { \r\n        font-weight: 500;\r\n        font-size: 1.3rem;\r\n        border-bottom: 1px solid #6A18B8;\r\n        margin: 2rem;\r\n    }\r\n\r\n    & > form {\r\n        width: 500px;\r\n    }\r\n`;\r\n\r\nexport const SubmitButton = style.button`\r\n    all: initial;\r\n    cursor: pointer;\r\n    font-family: 'Poppins', sans-serif;\r\n    padding: 0.4em .8em;\r\n    background: #6A18B8;\r\n    color: #FFF;\r\n    font-size: 1rem;\r\n    font-weight: 700;\r\n    text-align: center;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: relative;\r\n    min-width: 100%;\r\n    margin: 1em 0;\r\n    border-radius: 5px;\r\n`;\r\n\r\n\r\nexport const Textarea = style.textarea`\r\n    width: 100%;\r\n    height: 100px;\r\n    border: 1px solid #582ECE;\r\n`;","import React, { useEffect } from \"react\";\r\nimport {useUpdateEffect} from \"../../../chest/CustomHooks\";\r\nimport * as Yup from \"yup\";\r\nimport { useFormik } from \"formik\";\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { updateUser, updateProfileImge } from \"../../../application/actions/users\";\r\nimport Text from \"../../components/Validations/Text\";\r\nimport {Image, USLImage, validImageExtension} from \"../../components/Validations/Image\";\r\nimport { PageContainer, SubmitButton, Textarea } from \"./styles\";\r\n\r\n\r\n\r\nexport default function RegisterUser({}) {\r\n    const user = useSelector(state => state.users.data);\r\n    \r\n    const fileUrl = useSelector(state=> state.files.fileUrl);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            photo: \"\",\r\n            name: \"\",\r\n            lastName: \"\",\r\n            email: \"\",\r\n        },\r\n        onSubmit: (data) => {\r\n            const {userId} = user;\r\n            dispatch(updateUser({...data, userId}))\r\n            if (data.photo?.[0]) {\r\n                dispatch(updateProfileImge(data.photo?.[0]));\r\n            }\r\n        },\r\n        validationSchema: Yup.object({\r\n            photo: Yup.array().nullable().test(\r\n                \"validate-image\",\r\n                \"El archivo no es válido\",\r\n                (value) => {\r\n                    if (value?.[0].name) {\r\n                        return validImageExtension(value?.[0].name);\r\n                    }else if (user?.fileUrl){\r\n                        return true\r\n                    }\r\n                }\r\n            ),\r\n            name: Yup.string().required(\"El nombre es requerido\").min(3, \"Minimo 3 letras\"),\r\n            lastName: Yup.string().required(\"El apellido es requerido\").min(3, \"Minimo 3 letras\"),\r\n            email: Yup.string().email(\"Ingresa un email válido\").required(\"El email es requerido\"),\r\n            about: Yup.string(),\r\n        })\r\n    });\r\n\r\n    \r\n    return (\r\n        <PageContainer>\r\n            <h4>Editar informacion</h4>\r\n            <form className=\"form-reg-user\" onSubmit={formik.handleSubmit}>\r\n                Foto de perfil\r\n                {user &&<USLImage name=\"photo\"\r\n                onChange={e=>formik.setFieldValue(\"photo\", [...e.target.files])} \r\n                {...{user, formik}}/>}\r\n                \r\n                <USLInput \r\n                    type=\"text\" name=\"name\" placeholder=\"Ingrese su nombre\" \r\n                    {...{user, formik}}\r\n                />\r\n\r\n                <USLInput \r\n                    type=\"text\" name=\"lastName\" placeholder=\"Ingrese su nombre\" \r\n                    {...{user, formik}}\r\n                />\r\n\r\n                <USLInput \r\n                    type=\"text\" name=\"email\" placeholder=\"Ingrese su nombre\" \r\n                    {...{user, formik}}\r\n                />\r\n\r\n                <USLInput \r\n                    name=\"about\" placeholder=\"Escribe un poco sobre ti\" \r\n                    {...{user, formik, Component: Textarea}}\r\n                />\r\n\r\n                <SubmitButton type=\"submit\">Editar</SubmitButton>\r\n                \r\n            </form>\r\n        </PageContainer>\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\n\r\nfunction USLInput({user, formik, Component=Text,...args}) {\r\n\r\n    /* Hago uso de un generador porque no puedo usar el estado de user como valor inicial de formik entonces opto\r\n    por usarlo en la propiedad value de forma condicional haciendo que en las primeras renderizaciones se verifique \r\n    que el valor en el input esta vacio y siempre y cuando sea asi mandar el valor en el estado del user, cuando \r\n    se ingrese un valor se deja de ejecutar el primer bucle y pasa al segundo en donde siempre se manda el valor \r\n    del input manejado por formik, el generador lo guardo en un useRef para qye no se reinicie en cada renderizacion\r\n     */\r\n    function* counterGen() {\r\n        let value = yield false;\r\n        while (!value) {\r\n            value = yield false;\r\n        }\r\n        while(true){\r\n            yield true\r\n        }\r\n    }\r\n\r\n    const counter = React.useRef(counterGen());\r\n    \r\n    return (\r\n        <Component\r\n        {...args} \r\n        onChange={formik.handleChange} \r\n        error={formik.errors[args.name]} \r\n        value={counter.current.next(formik.values[args.name]).value? formik.values[args.name] : user?.[args.name]}/>\r\n    )\r\n}\r\n","import style from \"styled-components\";\r\n\r\nexport const Container = style.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    & > div {\r\n        width: 80% !important;\r\n    }\r\n`;\r\n\r\n\r\nexport const ButtonsContainer = style.div`\r\n    display: flex;\r\n    align-items: center;\r\n    width: 80%;\r\n    margin: 0;\r\n\r\n    & > button { \r\n        all: initial;\r\n        font-family: inherit;\r\n        padding: 0.5em 1em;\r\n        margin: 0.5em;\r\n        margin-right: 2em;\r\n        cursor: pointer;\r\n        background: #6314a8;\r\n        color: #FFF;\r\n    }\r\n\r\n    & > button:nth-child(2) {\r\n        background: #666;\r\n    }\r\n`;","import React, { useRef, useState } from 'react';\r\nimport { Container, ButtonsContainer } from \"./styles\";\r\nimport JoditEditor from \"jodit-react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { postBlog } from \"../../../application/actions/blogs\";\r\nimport { useHistory } from 'react-router'; \r\n\r\nexport default function WriteBlog() {\r\n    const dispatch  = useDispatch();\r\n    const history = useHistory();\r\n\r\n    const editor = useRef(null);\r\n    const [content, setContent] = useState(\"\");\r\n    const config = {\r\n        readonly: false,\r\n        height: 400,\r\n    }\r\n    return (\r\n        <Container>\r\n            <h3>Crea una nueva publicación</h3>\r\n            <JoditEditor \r\n                ref={editor}\r\n                value={content}\r\n                config={config}\r\n                onBlur={newContent => setContent(newContent)}\r\n                onChange={newContent =>{}}\r\n            />\r\n            <ButtonsContainer>\r\n                <button onClick={_=>dispatch(postBlog(content))}>Publicar</button>\r\n                <button onClick={_=>history.push(\"/profile\")}>Cancelar</button>\r\n            </ButtonsContainer>\r\n\r\n        </Container>\r\n    )\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport RegisterUser from \"./pages/RegisterUser\";\r\nimport Login from \"./pages/Login\";\r\nimport Profile from \"./pages/Profile\";\r\nimport Navbar from \"./components/Navbar\";\r\nimport Home from \"./pages/Home\";\r\nimport SearchUser from \"./pages/SearchUser\";\r\nimport EffectsManagement from \"./components/EffectsManagement\";\r\nimport PublicProfile from \"./pages/PublicProfile\";\r\nimport PasswordReset from './pages/PasswordReset';\r\nimport EditInfo from \"./pages/EditInfo\";\r\nimport { HashRouter, Route, Switch } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport WriteBlog from \"./pages/WriteBlog\";\r\n\r\nexport default function MainView({}) {\r\n    const user = useSelector(state=> state.users.data);\r\n\r\n    return (\r\n        <HashRouter>\r\n            <Navbar />\r\n                <EffectsManagement />\r\n                <Switch>\r\n                    <Route exact path=\"/\"> \r\n                        <Home />\r\n                    </Route>\r\n                    <Route exact path=\"/signup\" >\r\n                        <RegisterUser />\r\n                    </Route> \r\n                    <Route exact path=\"/login\" >\r\n                        <Login />\r\n                    </Route>\r\n                    <Route exact path=\"/change-password\">\r\n                        <PasswordReset />\r\n                    </Route> \r\n                    {/*RUTAS RESERVADAS PARA CUANDO EL USUARIO ESTÉ LOGEADO.*/}\r\n                        <Route exact path=\"/profile\">\r\n                            <Profile />\r\n                        </Route>\r\n                        <Route exact path=\"/profile/:id\">\r\n                            <PublicProfile />\r\n                        </Route>\r\n                        <Route exact path=\"/search/user\">\r\n                            <SearchUser />\r\n                        </Route>\r\n                        <Route exact path=\"/edit-info\">\r\n                            <EditInfo />\r\n                        </Route>    \r\n                        <Route exact path=\"/write-blog\">\r\n                            <WriteBlog />\r\n                        </Route>\r\n                </Switch>\r\n        </HashRouter>\r\n    )\r\n}  ","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export const APPLICATION_ID = process.env.PARSE_APPLICATION_ID || \"2YSu7dqmdmWtt791VxY3tioYJztLGWVpfXjM3eUU\";\r\n\r\nexport const HOST_URL = process.env.PARSE_HOST_URL || \"https://parseapi.back4app.com/\";\r\n\r\nexport const JAVASCRIPT_KEY = process.env.PARSE_JAVASCRIPT_KEY || \"hdqhA76TdKyTFP1Udz4ToDzcE1ZQbVNnqlD1uT2x\";\r\n\r\nexport const REST_API_KEY = process.env.PARSE_REST_API_KEY || \"eQkuqwK1kSeWTXfjcBNWmIxpBxpJJeSqeXUTDGJD\";","import Parse from \"parse\";\r\nimport { parseObjectToUser, createId } from \"../../../../chest/utils\";\r\nimport { APPLICATION_ID, HOST_URL , JAVASCRIPT_KEY, REST_API_KEY } from \"../../../../chest/config\"; \r\n\r\nfunction initializeParse() {\r\n    Parse.initialize(APPLICATION_ID, JAVASCRIPT_KEY);\r\n    Parse.serverURL = HOST_URL;\r\n}\r\n\r\nasync function saveUser(data) {\r\n    initializeParse()\r\n    // Insert a custom id to the data\r\n    let userData = data;\r\n    userData.userId = createId();\r\n    \r\n    // Separate the email and password to signup \r\n    const {email, password} = userData;\r\n    const currentUser = await Parse.User.signUp(email, password);\r\n\r\n    // Delete passwords so they wont be saved directly\r\n    delete userData.password;\r\n    delete userData.repeatPassword;\r\n\r\n    // Guardamos los datos restantes en el usuario creado\r\n    Object.entries(userData).forEach(feature => currentUser.set(feature[0], feature[1]));\r\n    await currentUser.save();\r\n\r\n    return {message: \"Usuario ingresado con éxito\"}\r\n}\r\n\r\nasync function login(userData) {\r\n    initializeParse();\r\n    // Hacemos el login con parse\r\n    const { email, password } = userData;\r\n    const user = await (await Parse.User.logIn(email, password)).toJSON();\r\n    \r\n    return {message: \"Logeado con éxito\", user};\r\n}\r\n\r\nasync function currentUser() {\r\n    initializeParse();\r\n    const currentUser = await (await Parse.User.current()).toJSON();\r\n\r\n\r\n    return currentUser;\r\n}\r\n\r\nasync function getAll() {\r\n    initializeParse();\r\n    const query = new Parse.Query(\"User\");\r\n    const users = await query.findAll();\r\n    const payload = users.map(parseObjectToUser );\r\n    return payload;\r\n}\r\n\r\nasync function logout() {\r\n    initializeParse();\r\n    await Parse.User.logOut();\r\n}\r\n\r\nasync function byId(id) {\r\n    initializeParse();\r\n    // Buscamos la info del usuario\r\n    const userQuery = new Parse.Query(\"User\");\r\n    userQuery.equalTo(\"userId\", id);\r\n    const user = await (await userQuery.first()).toJSON();\r\n    return { user };\r\n}\r\n\r\nasync function update(user) {\r\n    initializeParse();\r\n    const userQuery = new Parse.Query(\"User\");\r\n    userQuery.equalTo(\"userId\", user.userId);\r\n    const foundUser = await userQuery.first();\r\n\r\n    foundUser.set(\"name\", user.name)\r\n    foundUser.set(\"lastName\", user.lastName)\r\n    foundUser.set(\"email\", user.email)\r\n    foundUser.set(\"about\", user.about)\r\n    foundUser.set(\"fileUrl\", user.fileUrl)\r\n\r\n    foundUser.save();\r\n\r\n    return {message: \"Editado con éxito\"}\r\n\r\n\r\n}\r\n\r\nasync function passwordReset(email) {\r\n    initializeParse();\r\n    await Parse.User.requestPasswordReset(email);\r\n    return {message: \"Te hemos enviado un email para cambiar tu contraseña\"}\r\n}\r\n\r\n       \r\nexport default {\r\n    saveUser,\r\n    login,\r\n    currentUser,\r\n    logout,\r\n    getAll,\r\n    byId,\r\n    update,\r\n    passwordReset,\r\n}","import Parse from \"parse\";\r\nimport axios from \"axios\";\r\nimport { APPLICATION_ID, HOST_URL , JAVASCRIPT_KEY, REST_API_KEY } from \"../../../../chest/config\"; \r\n\r\nconst createId = ()=> Math.random().toString(16).slice(2);\r\nfunction initializeParse() {\r\n    Parse.initialize(APPLICATION_ID, JAVASCRIPT_KEY);\r\n    Parse.serverURL = HOST_URL;\r\n}\r\n\r\nconst toBase64 = file => new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => resolve(reader.result);\r\n    reader.onerror = error => reject(error);\r\n});\r\n\r\nParse.initialize(APPLICATION_ID, JAVASCRIPT_KEY);\r\nParse.serverURL = HOST_URL;\r\n\r\nasync function saveFile(file) {\r\n    initializeParse();\r\n    try {\r\n        // FIRST GET THE FILE ON BASE64\r\n        const id = createId();\r\n        const base64String = await toBase64(file);\r\n        // SAVE THE FILE ON BASE4APP USING PARSE\r\n        const parseFile = new Parse.File(\"newfile.png\", {base64: base64String});\r\n        const TFILE = Parse.Object.extend(\"Files\");\r\n        const tfile = new TFILE();\r\n        tfile.set(\"file\", parseFile);\r\n        tfile.set(\"fileId\", id);\r\n        await tfile.save();\r\n        // ONCE SAVED LOOK FOR THE URL\r\n        const resp = await axios(\"https://parseapi.back4app.com/classes/Files\", {headers: {\r\n                    \"X-Parse-Application-Id\": APPLICATION_ID,\r\n                    \"X-Parse-REST-API-Key\": REST_API_KEY\r\n        }}); \r\n        return resp?.data?.results?.find(item => item.fileId === id)?.file?.url\r\n\r\n    }catch(err){ console.log(err) };\r\n}\r\n\r\nexport default {\r\n    saveFile\r\n}\r\n","import Parse from \"parse\";\r\nimport { parseObjectToUser, createId } from \"../../../../chest/utils\";\r\nimport { APPLICATION_ID, HOST_URL , JAVASCRIPT_KEY, REST_API_KEY } from \"../../../../chest/config\"; \r\n\r\nfunction initializeParse() {\r\n    Parse.initialize(APPLICATION_ID, JAVASCRIPT_KEY);\r\n    Parse.serverURL = HOST_URL;\r\n}\r\n\r\nasync function friendRequest(targetUserId) {\r\n    initializeParse();\r\n    const currentUser = await Parse.User.current().toJSON();\r\n    const targetUser = await (new Parse.Query(\"User\"))\r\n                        .contains(\"userId\", targetUserId)\r\n                        .first();\r\n    // No mandar solicitud al usuario que la manda\r\n    if (targetUserId === currentUser.userId) {throw new Error(\"No es posible mandar la solicitud\")};\r\n    const friendRequests = new Parse.Object(\"FriendRequests\");\r\n\r\n    // Evitar mandar solicitud si ya se mandó antes.\r\n    const FriendRequests = new Parse.Query(\"FriendRequests\");\r\n    FriendRequests.contains(\"from\", currentUser.userId);\r\n    FriendRequests.contains(\"to\", targetUserId);\r\n\r\n    if ((await FriendRequests.first())) {throw new Error(\"Una solicitud ya ha sido enviada\")} \r\n\r\n    friendRequests.set(\"from\", currentUser.userId);\r\n    friendRequests.set(\"to\", targetUserId);\r\n\r\n    friendRequests.set(\"fromUser\", currentUser);\r\n    friendRequests.set(\"toUser\", targetUser.toJSON());\r\n\r\n    friendRequests.set(\"accepted\", false);\r\n\r\n    friendRequests.save();\r\n\r\n    return {message: \"Solicitud enviada\"}\r\n}\r\n\r\nasync function getFriendRequests() {\r\n    const query = new Parse.Query(\"FriendRequests\");\r\n    const { userId } = await Parse.User.current().toJSON();\r\n    query.contains(\"to\", userId);\r\n\r\n\r\n    const resp = (await query.find()) // Find \r\n                .map(res => res.toJSON()) // To Json\r\n                .filter(res => res.accepted === false); // Only the requests that are not accepted yet\r\n\r\n    return { friends: resp }\r\n}\r\n\r\nasync function accept({ from, to }) {\r\n    initializeParse();\r\n    // Add friend to the list field on the user.\r\n    const currentUser = await Parse.User.current();\r\n    const friend = await (new Parse.Query(\"User\"))\r\n                        .contains(\"userId\", from)\r\n                        .first();\r\n\r\n    const friends = currentUser.friends || [];\r\n\r\n    currentUser.set(\"friends\", [...friends, friend]);\r\n\r\n    await currentUser.save();\r\n\r\n    const FriendRequests = new Parse.Query(\"FriendRequests\");\r\n    FriendRequests.contains(\"from\", from);\r\n    FriendRequests.contains(\"to\", to);\r\n    const foundFriendR = await FriendRequests.first();\r\n    foundFriendR.set(\"accepted\", true);\r\n\r\n    await foundFriendR.save()\r\n\r\n    return {message: \"Amigo añadido\"}\r\n}\r\n\r\nasync function decline({ to, from }) {\r\n    // delete friend request from class in DB\r\n    const FriendRequests = new Parse.Query(\"FriendRequests\");\r\n    FriendRequests.contains(\"from\", from);\r\n    FriendRequests.contains(\"to\", to);\r\n\r\n    const foundFriendR = await FriendRequests.first();\r\n    await foundFriendR.destroy();\r\n\r\n    return {message: \"Solicitud eliminada\"};\r\n}\r\n       \r\nasync function deleteFriend(friend) {\r\n    const currentUser = await Parse.User.current();\r\n    let friends = currentUser.toJSON().friends||[];\r\n    friends = friends.filter(fr => fr.userId !== friend.userId);\r\n    currentUser.set(\"friends\", friends);\r\n    currentUser.save();\r\n    return {message: \"Amigo eliminado\"};\r\n}\r\n\r\n\r\nexport default {\r\n    friendRequest,\r\n    getFriendRequests,\r\n    accept,\r\n    decline,\r\n    deleteFriend\r\n}\r\n\r\n","import Parse from \"parse\";\r\nimport { parseObjectToUser, createId } from \"../../../../chest/utils\";\r\nimport { APPLICATION_ID, HOST_URL , JAVASCRIPT_KEY, REST_API_KEY } from \"../../../../chest/config\"; \r\n\r\nfunction initializeParse() {\r\n    Parse.initialize(APPLICATION_ID, JAVASCRIPT_KEY);\r\n    Parse.serverURL = HOST_URL;\r\n}\r\n\r\nasync function post(blog) {\r\n    initializeParse();\r\n    const { userId } = (await Parse.User.current()).toJSON();\r\n    const Blog = new Parse.Object(\"Blogs\");\r\n    const date = new Date(Date.now()).toLocaleDateString();\r\n\r\n    Blog.set(\"author\", userId);\r\n    Blog.set(\"content\", blog);\r\n    Blog.set(\"date\", date);\r\n    \r\n    Blog.save();\r\n\r\n    return { message: \"Blog publicado con exito\"};\r\n}\r\n\r\nasync function getAll() {\r\n    const { userId } = (await Parse.User.current()).toJSON();\r\n    const blogQuery = new Parse.Query(\"Blogs\");\r\n\r\n    blogQuery.contains(\"author\", userId);\r\n\r\n    const allBlogs = (await blogQuery.findAll()).map(blog=> blog.toJSON());\r\n\r\n    console.log(\"TODOS LOS BLOGS\", allBlogs);\r\n\r\n    return allBlogs;\r\n}\r\n\r\nexport default {\r\n    post,\r\n    getAll\r\n}","import users from \"./users\";\r\nimport files from \"./files\";\r\nimport friends from \"./friends\";\r\nimport blogs from \"./blogs\";\r\n\r\nexport default{\r\n    users,\r\n    files,\r\n    friends,\r\n    blogs\r\n}","const MODE = process.env.MOBSTER_MODE || \"DEV\";\r\n\r\nfunction devLogger(...args) {\r\n    console.log(...args);\r\n}\r\n\r\nconst log = (MODE === \"DEV\")? devLogger : ()=>{};\r\n\r\nexport default log;","import api from \"./services/api\";\r\nimport log from \"./services/log\";\r\n\r\nexport default {\r\n    api,\r\n    log,\r\n}","import { SHOW_SUCCESS, SHOW_WARNING, SHOW_ERROR, RESET_ALERT } from \"../actions/alert\";\r\n\r\nconst initialState = {\r\n    type: \"\",\r\n    message: \"\",\r\n    show: false,\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    const {type, payload} = action;\r\n\r\n    switch (type) {\r\n        case SHOW_SUCCESS: \r\n            return {type: \"success\", message: payload, show: true};\r\n        case SHOW_WARNING: \r\n            return {type: \"warning\", message: payload, show: true};\r\n        case SHOW_ERROR: \r\n            return {type: \"error\", message: payload, show: true};\r\n        case RESET_ALERT: \r\n            return initialState;\r\n        default: \r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducer;","import { FILE_INFO } from \"../actions/files\";\r\n\r\nconst initialState = {\r\n    fileUrl: \"\"\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FILE_INFO:\r\n            console.log(\"FROM REDUCER\", action.payload)\r\n            return { fileUrl: action.payload };\r\n        default: \r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducer","import { SET_USER_INFO, SET_USERS, SET_FOUND_USER } from \"../actions/users\";\r\n\r\nconst initialState =  {\r\n    loggedIn: false,\r\n    data: null,\r\n    foundUser: {},\r\n    all: [],\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_INFO:\r\n            let newData = state.data? {...state.data, ...action.payload} : action.payload;\r\n            return {loggedIn: Boolean(action.payload), data: newData};\r\n        case SET_USERS:\r\n            return {...state, all: action.payload};\r\n        case SET_FOUND_USER: \r\n            return {...state, foundUser: action.payload};\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport default reducer;","import { SET_FRIEND_REQUESTS } from \"../actions/friends\";\r\n\r\nconst initialState =  {\r\n    friendRequests: [],\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    console.log(\"friends from reducer: \", action)\r\n    switch (action.type) {\r\n        case SET_FRIEND_REQUESTS:\r\n            return {friendRequests: action.payload};\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport default reducer;","import { SET_LOCATION } from \"../actions/location\"\r\n\r\nconst initialState = {\r\n    href: \"\",\r\n    go: false,\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    if (action.type === SET_LOCATION) {\r\n        console.log(action.payload)\r\n        return action.payload;\r\n    }\r\n    return state;\r\n}\r\n\r\nexport default reducer;\r\n","import { SET_BLOGS } from \"../actions/blogs\";\r\n\r\nconst initialState = {\r\n    all: []\r\n}\r\n\r\nexport default function reducer(state= initialState, action) {\r\n    switch(action.type) {\r\n        case SET_BLOGS:\r\n            return {all: action.payload};\r\n        default: \r\n            return state;\r\n    }\r\n}","import alert from \"./alert\";\r\nimport files from \"./files\";\r\nimport users from \"./users\";\r\nimport friends from \"./friends\";\r\nimport location from \"./location\";\r\nimport blogs from \"./blogs\";\r\nimport { combineReducers } from \"redux\";\r\n//import ui from \"./ui\";\r\n\r\nexport default combineReducers({alert, files, users, location, friends, blogs})\r\n\r\n","import { compose, applyMiddleware, createStore } from \"redux\";\r\nimport reducers from \"./reducers\";\r\nimport middlewares from \"./middlewares\";\r\n\r\nexport const configureStore = (services) => createStore(\r\n    reducers,\r\n    compose(applyMiddleware(...middlewares.map(fn=> fn(services))))\r\n);","import { \r\n    flowCreateUser, \r\n    flowLoginUser, \r\n    flowGetCurrentUser,\r\n    flowLogoutUser, \r\n    flowGetAllUsers, \r\n    flowGetUserById, \r\n    flowUpdateUser,\r\n    flowUpdateUserImage,\r\n    flowRequestPasswordReset \r\n} from \"./mdw_users\";\r\n\r\nimport { \r\n    flowUploadFile \r\n} from \"./mdw_files\";\r\n\r\nimport { \r\n    flowSendFriendRequest, \r\n    flowGetFriendRequests,\r\n    flowAcceptFriend,\r\n    flowDeclineFriend,\r\n    flowDeleteFriend \r\n} from \"./mdw_friends\";\r\n\r\nimport {\r\n    flowPostBlog,\r\n    flowGetBlogs\r\n} from \"./mdw_blogs\";\r\n\r\nexport default [\r\n    flowCreateUser, \r\n    flowUploadFile, \r\n    flowLoginUser, \r\n    flowGetCurrentUser, \r\n    flowLogoutUser,\r\n    flowGetAllUsers,\r\n    flowGetUserById,\r\n    flowUpdateUser,\r\n    flowUpdateUserImage,\r\n    flowRequestPasswordReset,\r\n    flowSendFriendRequest,\r\n    flowGetFriendRequests,\r\n    flowDeclineFriend,\r\n    flowAcceptFriend,\r\n    flowDeleteFriend,\r\n    flowPostBlog,\r\n    flowGetBlogs\r\n];","import { GET_CURRENT_USER, CREATE_NEW_USER, LOGIN_USER, \r\n    LOGOUT_USER ,setUserInfo, GET_ALL_USERS, setUsers, \r\n    GET_USER_BY_ID, setFoundUser, UPDATE_USER, UPDATE_PROFILE_IMAGE,\r\n    REQUEST_PASSWORD_RESET, SEND_FRIEND_REQUEST } from \"../../actions/users\";\r\nimport { setLocation } from \"../../actions/location\";\r\nimport { showSuccess, showError } from \"../../actions/alert\";\r\n\r\nexport const flowCreateUser = ({ api }) => ({ dispatch }) => next => async action => {\r\n    if (action.type === CREATE_NEW_USER) {\r\n        try {\r\n            const resp = await api.users.saveUser(action.payload);\r\n            dispatch(showSuccess(resp.message));\r\n        }catch(err) {\r\n            dispatch(showError(err.message))\r\n        }\r\n    }\r\n    next(action);\r\n}\r\n\r\nexport const flowLoginUser = ({ api }) => ({ dispatch }) => next => async action => {\r\n    if (action.type === LOGIN_USER) {\r\n        try {\r\n            const resp = await api.users.login(action.payload);\r\n            dispatch(showSuccess(resp.message));\r\n            dispatch(setUserInfo(resp.user));\r\n            dispatch(setLocation({href: \"/profile\", go: true}));\r\n        }catch(err) {\r\n            dispatch(showError(err.message))\r\n        }\r\n    }\r\n    next(action);\r\n}\r\n\r\nexport const flowGetCurrentUser = ({ api }) => ({ dispatch }) => next => async action => {\r\n    if (action.type === GET_CURRENT_USER) {\r\n        try {\r\n            const resp = await api.users.currentUser();\r\n            dispatch(setUserInfo(resp));\r\n        }catch(err) {\r\n            dispatch(showError(err.message))\r\n        } \r\n    }\r\n    next(action);\r\n}\r\n\r\nexport const flowLogoutUser = ({ api }) => ({ dispatch }) => next => async action => {\r\n    if (action.type ===  LOGOUT_USER) {\r\n        try {\r\n            await api.users.logout();\r\n            dispatch(setUserInfo(null));\r\n            dispatch(setLocation({href: \"/\", go: true}));\r\n        }catch(err) {\r\n            dispatch(showError(err.message))\r\n        }\r\n    }\r\n    next(action);\r\n}\r\n\r\nexport const flowGetAllUsers = ({ api }) => ({ dispatch }) => next => async action => {\r\n    if (action.type === GET_ALL_USERS) {\r\n        const users = await api.users.getAll();\r\n        dispatch(setUsers(users))\r\n    }\r\n    next(action);\r\n}\r\nexport const flowGetUserById = ({ api }) => ({ dispatch }) => next => async action => {\r\n    if (action.type === GET_USER_BY_ID) {\r\n        const {user} = await api.users.byId(action.payload);\r\n        dispatch(setFoundUser(user));\r\n    }\r\n\r\n    next(action);\r\n}\r\n\r\nexport const flowUpdateUser = ({ api }) => ({ dispatch }) => next => async action => {\r\n    if (action.type === UPDATE_USER) {\r\n        try {\r\n            const resp = await api.users.update(action.payload);\r\n            dispatch(showSuccess(resp.message));\r\n            dispatch(setUserInfo(action.payload));\r\n            dispatch(setLocation({href: \"/profile\", go: true}));\r\n\r\n        }catch(err) {\r\n            dispatch(showError(err.message))\r\n        }\r\n    }\r\n\r\n    next(action);\r\n}\r\n\r\nexport const flowUpdateUserImage = ({ api }) => ({ dispatch }) => next => async action => {\r\n    if (action.type === UPDATE_PROFILE_IMAGE) {\r\n        try {\r\n\r\n            const fileUrl = await api.files.saveFile(action.payload);\r\n            const user = await api.users.currentUser();\r\n\r\n            await api.users.update({...user, fileUrl});\r\n            \r\n            const updatedUser = await api.users.currentUser();\r\n            dispatch(setUserInfo(updatedUser));\r\n\r\n        }catch(err) {\r\n            dispatch(showError(err.message))\r\n        }\r\n    }\r\n\r\n    next(action);\r\n}\r\n\r\nexport const flowRequestPasswordReset = ({ api }) => ({ dispatch }) => next => async action => {\r\n    if (action.type === REQUEST_PASSWORD_RESET) {\r\n        try {\r\n            const { message } = await api.users.passwordReset(action.payload);\r\n            dispatch(showSuccess(message));\r\n        }catch(err) {\r\n            dispatch(showError(err.message))\r\n        }\r\n    }\r\n\r\n    next(action);\r\n}\r\n\r\n\r\n\r\n","import { UPLOAD_FILE, fileInfo } from \"../../actions/files\";\r\n\r\nexport const flowUploadFile = ({ api, log }) => ({ dispatch }) => next => async action => {\r\n    log(UPLOAD_FILE)\r\n    if (action.type === UPLOAD_FILE) {\r\n        const fileUrl = await api.files.saveFile(action.payload);\r\n        dispatch(fileInfo(fileUrl));\r\n    }\r\n    next(action);\r\n}","import { \r\n    SEND_FRIEND_REQUEST, \r\n    GET_FRIEND_REQUESTS,\r\n    DECLINE_FRIEND,\r\n    ACCEPT_FRIEND,\r\n    setFriendRequests, \r\n    DELETE_FRIEND} from \"../../actions/friends\";\r\nimport { showSuccess, showError, showWarning } from \"../../actions/alert\";\r\nimport { setUserInfo } from \"../../actions/users\";\r\n\r\nexport const flowSendFriendRequest = ({ api, log }) => ({ dispatch }) => next => async action => {\r\n    if (action.type === SEND_FRIEND_REQUEST) {\r\n        try {\r\n            const { message } = await api.friends.friendRequest(action.payload);\r\n            dispatch(showSuccess(message));\r\n            log(\"FROM MDW\")\r\n        }catch(err) {\r\n            dispatch(showError(err.message))\r\n        }\r\n    }\r\n\r\n    next(action);\r\n}\r\n\r\nexport const flowGetFriendRequests = ({ api }) => ({ dispatch }) => next => async action => {\r\n    if (action.type === GET_FRIEND_REQUESTS) {\r\n        try {\r\n            const { friends } = await api.friends.getFriendRequests();\r\n            dispatch(setFriendRequests(friends));\r\n        }catch(err) {\r\n            dispatch(showError(err.message))\r\n        }\r\n    }\r\n\r\n    next(action);\r\n}\r\n\r\nexport const flowDeclineFriend = ({ api, log }) => ({ dispatch }) => next => async action => {\r\n    if (action.type === DECLINE_FRIEND) {\r\n        try {\r\n            const { message } = await api.friends.decline(action.payload);\r\n            const { friends } = await api.friends.getFriendRequests();\r\n\r\n            dispatch(setFriendRequests( friends ));\r\n            dispatch(showSuccess( message ));\r\n        }catch(err) {\r\n            dispatch(showError(err.message));\r\n        }\r\n    }\r\n\r\n    next(action);\r\n}\r\n\r\nexport const flowAcceptFriend = ({ api, log }) => ({ dispatch }) => next => async action => {\r\n    if (action.type === ACCEPT_FRIEND) {\r\n        try {\r\n            const { message } = await api.friends.accept(action.payload);\r\n            const { friends } = await api.friends.getFriendRequests();\r\n\r\n            dispatch(setFriendRequests( friends ));\r\n            dispatch(showSuccess( message ));\r\n        }catch(err) {\r\n            dispatch(showError(err.message))\r\n        }\r\n    }\r\n\r\n    next(action);\r\n}\r\n\r\nexport const flowDeleteFriend = ({ api, log }) => ({ dispatch }) => next => async action => {\r\n    if (action.type === DELETE_FRIEND) {\r\n        try {\r\n            const { message } = await api.friends.deleteFriend(action.payload);\r\n            const user = await api.users.currentUser();\r\n            \r\n            dispatch(setUserInfo(user));\r\n            dispatch(showSuccess( message ));\r\n        }catch(err) {\r\n            dispatch(showError(err.message))\r\n        }\r\n    }\r\n\r\n    next(action);\r\n}","import { showSuccess, showError, showWarning } from \"../../actions/alert\";\r\nimport { setLocation } from \"../../actions/location\";\r\n\r\nimport { POST_BLOG, GET_BLOGS, setBlogs } from \"../../actions/blogs\";\r\n\r\nexport const flowPostBlog = ({ api, log }) => ({ dispatch }) => next => async action => {\r\n    if (action.type === POST_BLOG) {\r\n        try {\r\n            const { message } = await api.blogs.post(action.payload);\r\n            dispatch(showSuccess( message ));\r\n            dispatch(setLocation({href: \"/profile\", go: true}))\r\n        }catch(err) {\r\n            dispatch(showError(err.message));\r\n        }\r\n    }\r\n    next(action);\r\n}\r\n\r\nexport const flowGetBlogs = ({ api, log }) => ({ dispatch }) => next => async action => {\r\n    if (action.type === GET_BLOGS) {\r\n        try {\r\n            const allBlogs = await api.blogs.getAll();\r\n            dispatch(setBlogs(allBlogs));\r\n        }catch(err) {\r\n            dispatch(showError(err.message));\r\n        }\r\n    }\r\n    next(action);\r\n}\r\n","import style from \"styled-components\";\r\n\r\nexport const GlobalStyles = style.div`\r\n    * {\r\n        font-family: 'Poppins', sans-serif;\r\n        box-sizing: border-box;\r\n    }\r\n`;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './views';\nimport reportWebVitals from './reportWebVitals';\nimport services from \"./infrastructure\";\nimport { Provider } from 'react-redux';\nimport { configureStore } from \"./application/store\";\nimport { GlobalStyles } from \"./mainStyles\";\n\nReactDOM.render(\n  <Provider store={configureStore(services)}>\n    <GlobalStyles> \n      <App />\n    </GlobalStyles>\n  </Provider>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}