(this["webpackJsonptesting-back4app-react"]=this["webpackJsonptesting-back4app-react"]||[]).push([[0],{723:function(e,n){},794:function(e,n,t){"use strict";t.r(n);var r,a,i,s,c,o,u,l,d,p=t(1),f=t.n(p),b=t(173),h=t.n(b),m=t(39),j=t(21),x=t(16),v=t(36),g=t(26),O=t(119),y=t(12),w="[user] create new user",k="[user] login user",S="[user] set user info",E="[user] get current user",C="[user] log out",F="[user] get all users",U="[user] set users",R="[user] get user by id",I="[user] set found user",D="[user] update user",q="[user] profile image",_="[user] request password reset",T=function(e){return{type:S,payload:e}},A={type:E},N={type:C},P={type:F},L=function(e){return{type:U,payload:e}},B=function(e){return{type:I,payload:e}},z="[files] upload file",K="[files] file info",V=t(99),W=t(5),M=t(6),J=M.a.input(r||(r=Object(W.a)(["\n    outline: none;\n    border: 1px solid #582ECE;\n    padding: 1em;\n    padding-bottom: 0.5em;\n    padding-left: 0.5em;\n    min-width: 100%;\n    border-radius: 5px;\n    margin: 0.4rem 0;\n"]))),H=M.a.div(a||(a=Object(W.a)(["\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n"]))),Q=M.a.p(i||(i=Object(W.a)(["\n    color: red;\n    margin: 0.1rem;\n    font-size: 0.8rem;\n    margin-left: 0.4rem;\n    margin-bottom: 0.5rem;\n"]))),X=t(2),Y=["error"];function G(e){var n=e.error,t=Object(V.a)(e,Y);return Object(X.jsxs)(H,{children:[Object(X.jsx)(J,Object(x.a)(Object(x.a)({},t),{},{autoComplete:"off",className:n?"error":"normal"})),n&&Object(X.jsx)(Q,{children:n})]})}var Z,$,ee,ne,te=M.a.button(s||(s=Object(W.a)(["\n    all: initial;\n    cursor: pointer;\n    font-family: 'Poppins', sans-serif;\n    padding: 0.4em .8em;\n    background: #6A18B8;\n    color: #FFF;\n    font-size: 1rem;\n    font-weight: 700;\n    text-align: center;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: relative;\n    width: 100%;\n    box-sizing: border-box;\n"]))),re=M.a.div(c||(c=Object(W.a)(["\n    width: 100%;\n    position: relative;\n    margin: 0.3rem 0;\n    border: 1px solid #6A18B8;\n    overflow: hidden;\n    border-radius: 0.2rem;\n"]))),ae=M.a.img(o||(o=Object(W.a)(["\n    width: 100%;\n    height: 200px;\n    object-fit: scale-down;\n"]))),ie=M.a.div(u||(u=Object(W.a)(["\n    display: flex;\n    flex-direction: column;\n"]))),se=M.a.p(l||(l=Object(W.a)(["\n    margin: 0.2rem;\n    font-size: 0.7rem;\n"]))),ce=M.a.p(d||(d=Object(W.a)(["\n    margin: 0.1rem;\n    font-size: 0.8rem;\n    color: red;\n"]))),oe=["error"],ue=["user","formik"];function le(e){var n=e.error,t=Object(V.a)(e,oe),r=f.a.useState(),a=Object(v.a)(r,2),i=a[0],s=a[1],c=f.a.useState(),o=Object(v.a)(c,2),u=o[0],l=o[1];return f.a.useEffect((function(){if(console.log(i),pe(null===i||void 0===i?void 0:i.name)){var e=new FileReader;return e.readAsDataURL(i),e.addEventListener("load",(function(e){l(e.target.result)})),function(){return e.removeEventListener("load",(function(){}))}}l(null)}),[i]),Object(X.jsxs)(re,{children:[u&&Object(X.jsx)(ae,{src:u,alt:null===i||void 0===i?void 0:i.name}),u&&Object(X.jsxs)(ie,{children:[Object(X.jsx)(se,{children:null===i||void 0===i?void 0:i.name}),Object(X.jsx)(se,{children:new Date(null===i||void 0===i?void 0:i.lastModifiedDate).toLocaleDateString()}),Object(X.jsxs)(se,{children:[(null===i||void 0===i?void 0:i.size)/1e3," KB"]})]}),Object(X.jsxs)(te,{children:[u?"Cambiar archivo":"A\xf1adir archivo",Object(X.jsx)("input",Object(x.a)(Object(x.a)({},t),{},{type:"file",onChange:function(e){s(e.target.files[0]),t.onChange(e)},style:{opacity:"0",position:"absolute"}}))]}),n&&Object(X.jsx)(ce,{className:"error-message",children:n})]})}function de(e){var n=e.user,t=e.formik,r=Object(V.a)(e,ue),a=f.a.useState(),i=Object(v.a)(a,2),s=i[0],c=i[1],o=f.a.useState(null===n||void 0===n?void 0:n.fileUrl),u=Object(v.a)(o,2),l=u[0],d=u[1];return function(e,n){var t=Object(p.useRef)(!0);Object(p.useEffect)((function(){if(!t.current)return e();t.current=!1}),n)}((function(){if(pe(null===s||void 0===s?void 0:s.name)){var e=new FileReader;return e.readAsDataURL(s),e.addEventListener("load",(function(e){d(e.target.result)})),function(){return e.removeEventListener("load",(function(){}))}}d(null)}),[s]),Object(X.jsxs)(re,{children:[l&&Object(X.jsx)(ae,{src:l,alt:null===s||void 0===s?void 0:s.name}),l&&s&&Object(X.jsxs)(ie,{children:[Object(X.jsx)(se,{children:null===s||void 0===s?void 0:s.name}),Object(X.jsx)(se,{children:new Date(null===s||void 0===s?void 0:s.lastModifiedDate).toLocaleDateString()}),Object(X.jsxs)(se,{children:[(null===s||void 0===s?void 0:s.size)/1e3," KB"]})]}),Object(X.jsxs)(te,{children:[l?"Cambiar archivo":"A\xf1adir archivo",Object(X.jsx)("input",Object(x.a)(Object(x.a)({},r),{},{type:"file",onChange:function(e){c(e.target.files[0]),r.onChange(e)},style:{opacity:"0",position:"absolute"}}))]}),(null===t||void 0===t?void 0:t.errors[r.name])&&Object(X.jsx)(ce,{className:"error-message",children:null===t||void 0===t?void 0:t.errors[r.name]})]})}function pe(e){var n,t=null===e||void 0===e||null===(n=e.slice((Math.max(0,e.lastIndexOf("."))||1/0)+1))||void 0===n?void 0:n.toLowerCase();return["gif","png","jpg","tiff","tif","raw","bmp","psd","pdf","eps","svg","ai"].includes(t)}var fe,be,he=M.a.div(Z||(Z=Object(W.a)(["\n    width: 100vw;\n    min-height: 100vh;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n \n    & > h4 { \n        font-weight: 500;\n        font-size: 1.3rem;\n        border-bottom: 1px solid #6A18B8;\n        margin: 2rem;\n    }\n\n    & > form {\n        display: grid;\n        grid-gap: 20px;\n        grid-template-columns: repeat(2, 1fr);\n        grid-auto-rows: minmax(100px, auto);\n        width: 60%;\n\n        & > div:nth-child(1) { /* Es el div que contiene a la seleccion de la imagen entre otros */\n            & > * {\n                margin: .5em 0;\n            }\n        }\n\n        & > div:nth-child(3) { /* Es el div que contiene al boton*/\n            grid-column: 1 / 3;\n\n            display: flex;\n            align-items: center;\n        }\n    }\n"]))),me=M.a.button($||($=Object(W.a)(["\n    all: initial;\n    cursor: pointer;\n    font-family: 'Poppins', sans-serif;\n    padding: 0.4em .8em;\n    background: #6A18B8;\n    color: #FFF;\n    font-size: 1rem;\n    font-weight: 700;\n    text-align: center;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: relative;\n    width: 95%;\n    margin: 1em 0;\n    border-radius: 5px; \n"]))),je=M.a.textarea(ee||(ee=Object(W.a)(["\n    width: 100%;\n    height: 100px;\n    border: 1px solid #582ECE;\n"]))),xe=M.a.div(ne||(ne=Object(W.a)(["\n    display: flex;\n    flex-direction: column;\n"]))),ve=t(18);function ge(e){Object(m.a)(e);var n=f.a.useState(),t=Object(v.a)(n,2),r=t[0],a=t[1],i=Object(y.d)((function(e){return e.files.fileUrl})),s=Object(y.c)(),c=Object(ve.f)(),o=new Date(Date.now()-536112e6),u=Object(O.a)({initialValues:{name:"",lastName:"",email:"",password:"",repeatPassword:"",date:""},onSubmit:function(e){var n;s((n=e.photo[0],{type:z,payload:n})),delete e.photo,a(e)},validationSchema:g.c({photo:g.a().nullable().test("validate-image","El archivo no es v\xe1lido",(function(e){return function(e){var n,t=["gif","png","jpg","tiff","tif","raw","bmp","psd","pdf","eps","svg","ai"],r=null===e||void 0===e||null===(n=e.slice((Math.max(0,e.lastIndexOf("."))||1/0)+1))||void 0===n?void 0:n.toLowerCase();return t.includes(r)}(null===e||void 0===e?void 0:e[0].name)})),name:g.e().required("El nombre es requerido").min(3,"Minimo 3 letras"),lastName:g.e().required("El apellido es requerido").min(3,"Minimo 3 letras"),email:g.e().email("Ingresa un email v\xe1lido").required("El email es requerido"),password:g.e().required("La contrase\xf1a es requerida").min(10,"Minimo 10 letras"),repeatPassword:g.e().oneOf([g.d("password"),null],"Las contrase\xf1as deben coincidir"),date:g.b("Ingresa una fecha v\xe1lida").required("La fecha es requerida").max(o,"Debes tener al menos 17 a\xf1os"),about:g.e().max(100,"Maximo 100 letras")})});return f.a.useEffect((function(){r&&(s(function(e){return{type:w,payload:e}}(Object(x.a)(Object(x.a)({},r),{},{fileUrl:i}))),c.push("/login"))}),[i]),Object(X.jsxs)(he,{children:[Object(X.jsx)("h4",{children:"Ingrese sus datos"}),Object(X.jsxs)("form",{className:"form-reg-user",onSubmit:u.handleSubmit,children:[Object(X.jsxs)(xe,{children:["Foto de perfil",Object(X.jsx)(le,{name:"photo",error:u.errors.photo,onChange:function(e){return u.setFieldValue("photo",Object(j.a)(e.target.files))}}),"Fecha de nacimiento",Object(X.jsx)(G,{type:"date",name:"date",placeholder:"Fecha de nacimiento",onChange:u.handleChange,error:u.errors.date})]}),Object(X.jsxs)(xe,{children:[Object(X.jsx)(G,{type:"text",name:"name",placeholder:"Ingrese su nombre",onChange:u.handleChange,error:u.errors.name}),Object(X.jsx)(G,{type:"text",name:"lastName",placeholder:"Ingrese su Apellido",onChange:u.handleChange,error:u.errors.lastName}),Object(X.jsx)(G,{type:"email",name:"email",placeholder:"Ingrese email",onChange:u.handleChange,error:u.errors.email}),Object(X.jsx)(G,{type:"password",name:"password",placeholder:"Ingrese su contrase\xf1a",onChange:u.handleChange,error:u.errors.password}),Object(X.jsx)(G,{type:"password",name:"repeatPassword",placeholder:"Repita su contrase\xf1a",onChange:u.handleChange,error:u.errors.repeatPassword}),Object(X.jsx)(je,{name:"about",placeholder:"Escribe un poco sobre ti",onChange:u.handleChange})]}),Object(X.jsx)(xe,{children:Object(X.jsx)(me,{type:"submit",children:"Entregar"})})]})]})}var Oe=M.a.div(fe||(fe=Object(W.a)(["\n    width: 100vw;\n    min-height: 100vh;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    & > h4 { \n        font-weight: 500;\n        font-size: 1.3rem;\n        border-bottom: 1px solid #6A18B8;\n        margin: 2rem;\n    }\n\n    & > form {\n        width: 500px;\n    }\n"]))),ye=M.a.button(be||(be=Object(W.a)(["\n    all: initial;\n    cursor: pointer;\n    font-family: 'Poppins', sans-serif;\n    padding: 0.4em .8em;\n    background: #6A18B8;\n    color: #FFF;\n    font-size: 1rem;\n    font-weight: 700;\n    text-align: center;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: relative;\n    min-width: 100%;\n    margin: 1em 0;\n    border-radius: 5px;\n"]))),we=t(25);function ke(e){Object(m.a)(e);var n=Object(y.c)(),t=(Object(ve.f)(),Object(O.a)({initialValues:{email:"",password:""},onSubmit:function(e){n({type:k,payload:e})},validationSchema:g.c({email:g.e().required("El email es requerido"),password:g.e().required("La contrase\xf1a es requerida")})}));return Object(X.jsxs)(Oe,{children:[Object(X.jsx)("h4",{children:"Ingrese sus datos"}),Object(X.jsxs)("form",{className:"form-reg-user",onSubmit:t.handleSubmit,children:[Object(X.jsx)(G,{type:"email",name:"email",placeholder:"Ingrese email",onChange:t.handleChange,error:t.errors.email}),Object(X.jsx)(G,{type:"password",name:"password",placeholder:"Ingrese su contrase\xf1a",onChange:t.handleChange,error:t.errors.password}),Object(X.jsx)(ye,{type:"submit",children:"Entregar"})]}),Object(X.jsx)(we.b,{to:"change-password",children:"\xbfOlvidaste tu contrase\xf1a?"})]})}var Se,Ee,Ce,Fe,Ue,Re,Ie=function(){return Math.random().toString(16).slice(2)},De=function(e){return e?{name:null===e||void 0===e?void 0:e.get("name"),lastName:null===e||void 0===e?void 0:e.get("lastName"),email:null===e||void 0===e?void 0:e.get("email"),fileUrl:null===e||void 0===e?void 0:e.get("fileUrl"),about:null===e||void 0===e?void 0:e.get("about"),userId:null===e||void 0===e?void 0:e.get("userId"),date:null===e||void 0===e?void 0:e.get("date"),emailVerified:null===e||void 0===e?void 0:e.get("emailVerified"),friends:null===e||void 0===e?void 0:e.get("friends")}:void 0};function qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null===e||void 0===e?void 0:e.charAt(0).toUpperCase())+(null===e||void 0===e?void 0:e.slice(1))+" "+(null===n||void 0===n?void 0:n.charAt(0).toUpperCase())+(null===n||void 0===n?void 0:n.slice(1))}var _e=M.a.div(Se||(Se=Object(W.a)(['\n    width: 100vw;\n    min-height: 100vh;\n    display: flex;\n    flex-wrap: wrap;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    position: relative;\n\n    & > section { \n        outline: 2px solid #6314a8;\n        position: relative;\n        margin-top: 2rem;\n        width: 70vw;\n        height: 500px;\n        overflow: hidden;\n        border-radius: 10px;\n        display: flex;\n        \n        @media (max-width: 702px) {\n            order: 1;\n        }\n\n        & > span:nth-child(2) {\n            position: absolute;\n            left: 30%;\n            top: 5%;\n            background: red;\n            color: #FFF;\n            padding: 0.3em 0.5em;\n        }\n\n        & > span:nth-child(1) {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            position: relative;\n            width: 300px;\n            padding: 0;\n            height: 300px;\n\n            & > img {\n                width: 200px;\n                height: 200px;\n                border-radius: 50%;\n                object-fit: cover;\n                position: relative;\n                z-index: 1000;\n            }\n            &::after {\n                content: "";\n                position: absolute;\n                top: 50%;\n                left: 50%;\n                transform: translate(-50%, -50%);\n                display: inline-block;\n                width: 210px;\n                height: 210px;\n                border-radius: 50%;\n                background-image: linear-gradient(45deg, #6314a8 0%, #6314a8 50%, #fff 50%, #fff 100%);\n            }\n        }\n    }\n']))),Te=(M.a.div(Ee||(Ee=Object(W.a)(["\n    margin-top: 2rem;\n    width: 70vw;\n    height: 500px;  \n    position: absolute;\n    border-radius: 10px 50px;\n    filter: blur(0.2rem);\n    background: linear-gradient(#E30D0D, #6A18B8);\n"]))),M.a.div(Ce||(Ce=Object(W.a)(["\n    height: 200px;\n    min-width: 50%;\n    padding: 0 1em;\n    margin: auto 1rem;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    border-bottom: 1px solid #6314a8;\n    border-radius: 10px;\n\n    & > div {\n        padding: 0.5em;\n    }\n"])))),Ae=M.a.div(Fe||(Fe=Object(W.a)(["\n    margin: 2rem 0 0 1em;\n    width: 50px;\n    height: 500px;\n    position: relative;\n    border-radius: 10px;\n    background: #FFF;\n    outline: 1px dashed #333;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    @media (max-width: 920px) {\n        width: 70vw;\n        height: 100px;\n        display: flex;\n        flex-direction: row;\n        align-items: center;\n        order: 2;\n    }\n\n    & > a {\n        display: flex;\n        text-decoration: none;\n        align-items: center;\n        color: 6A18B8;\n        margin: 0.6em 0;\n\n        & > * {\n            margin: 0 0.2rem;\n        }\n\n        margin: 1em 0.2em;\n    }\n"]))),Ne=M.a.div(Ue||(Ue=Object(W.a)(["\n    width: 200px;\n    height: 500px;\n    border: 1px solid #582ECE;\n    border-radius: 10px;\n    margin: 0.5em;\n    margin-top: 2rem;\n    padding: 0.5em;\n\n    @media (max-width: 702px) {\n        order: 3;\n        width: 70vw;\n        height: 300px;\n    }\n\n    & > div {\n        & div {\n            display: flex;\n            justify-content: space-around;\n            align-items: center;\n            & > button, a {\n                all: initial;\n                font-family: inherit;\n                font-size: 0.85rem;\n                cursor: pointer;\n                margin: 0 0.5em;\n            }\n            & > img {\n                width: 30px;\n                height: 30px;\n                object-fit: cover;\n                border-radius: 50%;\n            }\n            & > button { font-size: 0.6rem;}\n        }\n    }\n\n"]))),Pe=M.a.div(Re||(Re=Object(W.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 80vw;\n    & > div {\n        border: 1px solid #ccc;\n        margin: 1em 0;\n        padding: 1em;\n        width: 100%;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n    }\n"]))),Le=t(177),Be=t(337),ze=t(336),Ke="[friend] send friend request",Ve="[friend] get friend request",We="[friend] set friend request",Me="[friend] accept friend",Je="[friend] decline friend",He="[friend] delete friend",Qe=function(e){return{type:We,payload:e}};function Xe(e){Object(m.a)(e);var n=Object(y.d)((function(e){return e.users.data})),t=Object(y.d)((function(e){return e.friends})).friendRequests,r=Object(y.c)();return Object(X.jsx)(X.Fragment,{children:Object(X.jsxs)(_e,{children:[Object(X.jsx)(Ge,{user:n,friendRequests:t,dispatch:r}),Object(X.jsxs)("section",{children:[Object(X.jsx)("span",{children:Object(X.jsx)("img",{src:null===n||void 0===n?void 0:n.fileUrl,alt:"profile picture"})}),!(null===n||void 0===n?void 0:n.emailVerified)&&Object(X.jsx)("span",{children:"Verifica tu email"}),Object(X.jsxs)(Te,{children:[Object(X.jsx)("span",{}),n&&Object(X.jsxs)("div",{children:[Object(X.jsx)("p",{children:qe(n.name,n.lastName)}),Object(X.jsx)("p",{children:n.email}),n.about&&Object(X.jsxs)("p",{children:["Sobre ",qe(n.name),": ",n.about]}),n.date&&Object(X.jsxs)("p",{children:["Fecha de nacimiento ",n.date]})]}),Object(X.jsx)("span",{})]})]}),Object(X.jsxs)(Ae,{children:[Object(X.jsx)(we.b,{to:"/edit-info","data-tip":"Editar informaci\xf3n",children:Object(X.jsx)(Le.a,{size:30})}),Object(X.jsx)(we.b,{to:"/change-password","data-tip":"Cambiar contrase\xf1a",children:Object(X.jsx)(Le.b,{size:30})}),Object(X.jsx)(we.b,{to:"/write-blog","data-tip":"Crear blog",children:Object(X.jsx)(Be.a,{size:30})})]}),Object(X.jsx)(Ye,{}),Object(X.jsx)(ze.a,{})]})})}function Ye(){var e=Object(y.d)((function(e){return e.blogs.all}));return Object(X.jsxs)(Pe,{children:[Object(X.jsx)("p",{children:"Publicaciones"}),e&&e.map((function(e){return Object(X.jsxs)(X.Fragment,{children:[e.date&&Object(X.jsxs)("p",{children:["Fecha: ",e.date]}),Object(X.jsx)("div",{dangerouslySetInnerHTML:{__html:e.content}})]})}))]})}function Ge(e){var n,t=e.user,r=e.friendRequests,a=e.dispatch;return Object(X.jsxs)(Ne,{children:[Object(X.jsxs)("div",{children:[Object(X.jsx)("p",{children:"Amigos"}),(null===t||void 0===t||null===(n=t.friends)||void 0===n?void 0:n.length)>0&&Object(X.jsx)("div",{children:t.friends.map((function(e,n){return Object(X.jsxs)("div",{children:[Object(X.jsx)("img",{src:e.fileUrl,alt:"friend-image"}),Object(X.jsx)(we.b,{to:"/profile/"+e.userId,children:e.name}),Object(X.jsx)("button",{onClick:function(n){return a({type:He,payload:e})},children:"Eliminar"})]},n)}))})]}),Object(X.jsxs)("div",{children:[Object(X.jsx)("p",{children:"Solicitudes de amistad"}),(null===r||void 0===r?void 0:r.length)>0&&Object(X.jsx)("div",{children:r.map((function(e,n){return Object(X.jsxs)("div",{children:[Object(X.jsx)(we.b,{to:"/profile/"+(null===e||void 0===e?void 0:e.fromUser.userId),children:null===e||void 0===e?void 0:e.fromUser.name}),Object(X.jsx)("button",{onClick:function(n){return a({type:Me,payload:e})},children:"Aceptar"}),Object(X.jsx)("button",{onClick:function(n){return a({type:Je,payload:e})},children:"Denegar"})]},n)}))})]})]})}var Ze,$e=t(3),en=t.n($e),nn=t(9),tn=M.a.nav(Ze||(Ze=Object(W.a)(["\n    display: flex;\n    align-items: center;\n    background: #6314a8;\n    width: 100%;\n    & > * {\n        margin: 0.3em 1em;\n        text-decoration: none;\n        color: #FFF;\n    }\n"]))),rn=t(178),an=t.n(rn);function sn(e){Object(m.a)(e);var n=Object(y.c)(),t=Object(y.d)((function(e){return e.users.loggedIn})),r=function(){var e=Object(nn.a)(en.a.mark((function e(t){var r;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,an.a.fire({html:"<p>\xbfSeguro que quieres cerrar sesi\xf3n?</p>",showDenyButton:!0,confirmButtonText:"Cerrar sesi\xf3n",denyButtonText:"Cancelar",denyButtonColor:"#D9D9D9",confirmButtonColor:"#6A18B8"});case 3:r=e.sent,r.isConfirmed&&n(N);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return f.a.useEffect((function(){console.log(t)}),[t]),Object(X.jsxs)(tn,{children:[Object(X.jsx)(we.b,{to:"/",children:"Inicio"}),t?Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(we.b,{to:"/search/user",children:"Buscar usuario"}),Object(X.jsx)(we.b,{to:"/profile",children:"Perfil"}),Object(X.jsx)(we.b,{to:"",onClick:r,children:"Salir"})]}):Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(we.b,{to:"/signup",children:"Registrarse"}),Object(X.jsx)(we.b,{to:"/login",children:"Iniciar sesi\xf3n"})]})]})}var cn,on,un,ln,dn=t.p+"static/media/pumpkin-logo.692c8a96.png",pn=M.a.div(cn||(cn=Object(W.a)(["\n    width: 100vw;\n    min-height: 100vh;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    & > p {\n        width: 80%;\n        text-align: center;\n    }\n\n    & > span {\n        color: #FFC3BA;\n    }\n\n    & > img {\n        margin: 2rem;\n    }\n"])));function fn(e){return Object(m.a)(e),Object(X.jsxs)(pn,{children:[Object(X.jsx)("img",{src:dn}),Object(X.jsx)("p",{children:"Una peque\xf1a red social openSource que aspira a ser una alternativa que escucha a la comunidad."})]})}var bn,hn=M.a.div(on||(on=Object(W.a)(["\n    width: 100vw;\n    min-height: 100vh;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]))),mn=M.a.div(un||(un=Object(W.a)(["\n    display: flex;\n    width: 100%;\n    flex-wrap: wrap;\n"]))),jn=M.a.div(ln||(ln=Object(W.a)(["\n    width: 300px;\n    height: 350px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    border: 1px dashed blue;\n    border-radius: 10px;\n    padding: 1em;\n    margin: 1em;\n\n    & > img {\n        width: 100px;\n        height: 100px;\n        border-radius: 50%;\n        object-fit: cover;\n    }\n\n    & > div {\n        display: flex;\n        & > a {\n            text-decoration: none;\n            color: #333;\n            padding: 0.2em 1.2em;\n            margin: 0.2em;\n            border: 1px solid blue;\n            border-radius: 10px;    \n        }\n    }\n"]))),xn=M.a.fieldset(bn||(bn=Object(W.a)(["\n    display: flex;\n    width: 50%;\n    padding: 0;\n    margin: 2em;\n    & > div {\n        dislay: flex;\n        width: 100%;\n        padding: 0.1em;\n    }\n\n    & > div > input {\n        border: none;\n        width: 100%;\n\n        &:focus {\n            outline: none;\n        }\n    }\n"])));function vn(e){var n=e.items,t=e.query,r=e.setQuery;return Object(X.jsx)(X.Fragment,{children:Object(X.jsxs)(xn,{children:[Object(X.jsx)("legend",{children:"Buscar"}),Object(X.jsxs)("div",{children:[Object(X.jsx)("input",{value:t,onChange:function(e){return r(e.target.value)},list:"data-list"}),Object(X.jsx)("datalist",{id:"data-list",children:n&&n.map((function(e){return Object(X.jsx)("option",{value:e},Ie())}))})]})]})})}var gn,On,yn,wn,kn=Object(y.b)((function(e){return{users:e.users.all}}))((function(e){var n=e.users,t=(Object(y.d)((function(e){return e.users.all})),Object(y.d)((function(e){var n;return null===(n=e.users.data)||void 0===n?void 0:n.friends}))),r=Object(p.useState)(""),a=Object(v.a)(r,2),i=a[0],s=a[1],c=Object(y.c)();return Object(p.useEffect)((function(){c(P)}),[]),Object(X.jsxs)(hn,{children:[Object(X.jsx)(vn,{query:i,setQuery:s,items:null===n||void 0===n?void 0:n.map((function(e){return qe(e.name,e.lastName)}))}),Object(X.jsx)(mn,{children:null===n||void 0===n?void 0:n.filter((function(e){return function(e,n){var t=e.toLowerCase().split(" ").join(""),r=n.toLowerCase().split(" ").join("");return Boolean(t.match(new RegExp(r)))}(qe(e.name,e.lastName),i)})).map((function(e){var n,r;return Object(X.jsxs)(jn,{children:[Object(X.jsx)("img",{src:e.fileUrl}),Object(X.jsx)("p",{children:qe(e.name,e.lastName)}),Object(X.jsx)("p",{children:e.about?(null===(n=e.about)||void 0===n?void 0:n.slice(0,100))+((null===(r=e.about)||void 0===r?void 0:r.length)>100?"...":""):""}),!e.emailVerified&&Object(X.jsx)("small",{children:"Email sin verificar"}),Object(X.jsxs)("div",{children:[Object(X.jsx)(we.b,{to:"/profile/"+e.userId,children:"Visitar"}),(null===t||void 0===t?void 0:t.find((function(n){return n.userId===e.userId})))?Object(X.jsx)(X.Fragment,{}):Object(X.jsx)(we.b,{to:"/",onClick:function(n){var t;n.preventDefault(),c((t=e.userId,{type:Ke,payload:t}))},children:"Agregar"})]})]},Ie())}))})]})})),Sn="[alert] show success",En="[alert] show warning",Cn="[alert] show error",Fn="[alert] reset alert",Un=function(e){return{type:Sn,payload:e}},Rn=function(e){return{type:Cn,payload:e}},In={type:Fn},Dn="[location] set location",qn=function(e){return{type:Dn,payload:e}},_n="[blog] post blog",Tn="[blog] set blogs",An="[blog] get blogs";function Nn(e){Object(m.a)(e);var n=Object(y.d)((function(e){return e.alert})),t=Object(y.d)((function(e){return e.location})),r=Object(y.c)(),a=Object(ve.f)();return Object(p.useEffect)((function(){n.show&&an.a.fire({position:"top-end",icon:n.type,html:"<p style=\"font-family:'Poppins',sans-serif;font-size:1.3rem\">".concat(n.message,"</p>"),showConfirmButton:!1,timer:3e3}).then((function(){r(In)}))}),[n]),Object(p.useEffect)((function(){r(A),r({type:Ve}),r({type:An})}),[]),Object(p.useEffect)((function(){t.go&&(a.push(t.href),r(qn({href:"",go:!1})))}),[t]),Object(X.jsx)(X.Fragment,{})}var Pn,Ln,Bn=M.a.div(gn||(gn=Object(W.a)(['\n    width: 100vw;\n    min-height: 100vh;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    position: relative;\n\n    & > section { \n        outline: 2px solid #6314a8;\n        position: relative;\n        margin-top: 2rem;\n        width: 70vw;\n        height: 500px;\n        overflow: hidden;\n        border-radius: 10px;\n        display: flex;\n\n        & > span:nth-child(2) {\n            position: absolute;\n            left: 30%;\n            top: 5%;\n            background: red;\n            color: #FFF;\n            padding: 0.3em 0.5em;\n        }\n\n        & > span:nth-child(1) {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            position: relative;\n            width: 300px;\n            padding: 0;\n            height: 300px;\n\n            & > img {\n                width: 200px;\n                height: 200px;\n                border-radius: 50%;\n                object-fit: cover;\n                position: relative;\n                z-index: 1000;\n            }\n            &::after {\n                content: "";\n                position: absolute;\n                top: 50%;\n                left: 50%;\n                transform: translate(-50%, -50%);\n                display: inline-block;\n                width: 210px;\n                height: 210px;\n                border-radius: 50%;\n                background-image: linear-gradient(45deg, #6314a8 0%, #6314a8 50%, #fff 50%, #fff 100%);\n            }\n        }\n    }\n']))),zn=(M.a.div(On||(On=Object(W.a)(["\n    margin-top: 2rem;\n    width: 70vw;\n    height: 500px;  \n    position: absolute;\n    border-radius: 10px 50px;\n    filter: blur(0.2rem);\n    background: linear-gradient(#E30D0D, #6A18B8);\n"]))),M.a.div(yn||(yn=Object(W.a)(["\n    height: 200px;\n    min-width: 50%;\n    padding: 0 1em;\n    margin: auto 1rem;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    border-bottom: 1px solid #6314a8;\n    border-radius: 10px;\n\n    & > div {\n        padding: 0.5em;\n    }\n"]))));M.a.div(wn||(wn=Object(W.a)(["\n    margin: 2rem 0 0 1em;\n    width: 50px;\n    height: 500px;\n    position: relative;\n    border-radius: 10px;\n    background: #FFF;\n    outline: 1px dashed #333;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    & > a {\n        display: flex;\n        text-decoration: none;\n        align-items: center;\n        color: 6A18B8;\n        margin: 0.6em 0;\n\n        & > * {\n            margin: 0 0.2rem;\n        }\n\n        margin: 1em 0.2em;\n    }\n"])));function Kn(e){Object(m.a)(e);var n=Object(y.d)((function(e){return e.users.foundUser})),t=Object(y.c)(),r=Object(ve.g)().id;return console.log(n),Object(p.useEffect)((function(){t(function(e){return{type:R,payload:e}}(r))}),[r]),Object(X.jsx)(X.Fragment,{children:(null===n||void 0===n?void 0:n.name)?Object(X.jsx)(Bn,{children:Object(X.jsxs)("section",{children:[Object(X.jsx)("span",{children:Object(X.jsx)("img",{src:null===n||void 0===n?void 0:n.fileUrl,alt:"profile picture"})}),Object(X.jsxs)(zn,{children:[Object(X.jsx)("span",{}),Object(X.jsxs)("div",{children:[Object(X.jsx)("p",{children:qe(n.name,n.lastName)}),Object(X.jsx)("p",{children:n.email}),n.about&&Object(X.jsxs)("p",{children:["Sobre ",qe(n.name,n.lastName),": ",n.about]}),n.date&&Object(X.jsxs)("p",{children:["Fecha de nacimiento ",n.date]})]}),Object(X.jsx)("span",{})]})]})}):Object(X.jsx)(Bn,{children:"Usuario no encontrado"})})}var Vn,Wn,Mn,Jn=M.a.div(Pn||(Pn=Object(W.a)(["\n    margin: 0;\n    width: 100vw;\n    height: 100vh;\n    display: grid;\n    place-items: center;\n\n    & > section {\n        box-shadow: 5px 6px 23px -5px rgba(159,146,146,0.89);\n        display: flex;\n        flex-direction: column;\n        padding: 1em;\n\n        & > h4 {\n            font-weight: 600;\n            margin: 1em 0;\n            padding: 0.6em 0;\n            border-bottom: 1px solid rgba(159,146,146,0.4);\n        }\n        \n        & > img {\n            height: 200px;\n            width: 400px;\n            object-fit: cover;\n        }\n\n        & > input {\n            all: initial;\n            font: inherit;\n            margin: 0.5em 0;\n            padding: 0.5em;\n            font-size: 0.9rem;\n            border: 1px solid rgba(159,146,146,0.4);\n        }\n\n        & > button {\n            all: initial;\n            font: inherit;\n            margin: 0.5em 0;\n            padding: 0.5em;\n            font-size: 0.9rem;\n            border: 1px solid rgba(159,146,146,0.4);\n            text-align: center;\n\n            &:hover {\n                background: rgba(159,146,146,0.3);\n            }\n        }\n    }\n"]))),Hn=M.a.button(Ln||(Ln=Object(W.a)(["\n\n"])));function Qn(){var e=Object(p.useState)(""),n=Object(v.a)(e,2),t=n[0],r=n[1],a=Object(y.c)();return Object(X.jsx)(Jn,{children:Object(X.jsxs)("section",{children:[Object(X.jsx)("img",{alt:"app-image",src:dn}),Object(X.jsx)("h4",{children:"Cambio de contrase\xf1a"}),Object(X.jsx)("input",{value:t,onChange:function(e){return r(e.target.value)},placeholder:"Ingresa tu email para continuar."}),Object(X.jsx)(Hn,{onClick:function(e){e.preventDefault(),a(function(e){return{type:_,payload:e}}(t))},children:"Solicitar reinicio de contrase\xf1a"})]})})}var Xn,Yn,Gn=M.a.div(Vn||(Vn=Object(W.a)(["\n    width: 100vw;\n    min-height: 100vh;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    & > h4 { \n        font-weight: 500;\n        font-size: 1.3rem;\n        border-bottom: 1px solid #6A18B8;\n        margin: 2rem;\n    }\n\n    & > form {\n        width: 500px;\n    }\n"]))),Zn=M.a.button(Wn||(Wn=Object(W.a)(["\n    all: initial;\n    cursor: pointer;\n    font-family: 'Poppins', sans-serif;\n    padding: 0.4em .8em;\n    background: #6A18B8;\n    color: #FFF;\n    font-size: 1rem;\n    font-weight: 700;\n    text-align: center;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: relative;\n    min-width: 100%;\n    margin: 1em 0;\n    border-radius: 5px;\n"]))),$n=M.a.textarea(Mn||(Mn=Object(W.a)(["\n    width: 100%;\n    height: 100px;\n    border: 1px solid #582ECE;\n"]))),et=["user","formik","Component"];function nt(e){Object(m.a)(e);var n=Object(y.d)((function(e){return e.users.data})),t=(Object(y.d)((function(e){return e.files.fileUrl})),Object(y.c)()),r=Object(O.a)({initialValues:{photo:"",name:"",lastName:"",email:""},onSubmit:function(e){var r,a,i,s=n.userId;(t(function(e){return{type:D,payload:e}}(Object(x.a)(Object(x.a)({},e),{},{userId:s}))),null===(r=e.photo)||void 0===r?void 0:r[0])&&t((i=null===(a=e.photo)||void 0===a?void 0:a[0],{type:q,payload:i}))},validationSchema:g.c({photo:g.a().nullable().test("validate-image","El archivo no es v\xe1lido",(function(e){return(null===e||void 0===e?void 0:e[0].name)?pe(null===e||void 0===e?void 0:e[0].name):!!(null===n||void 0===n?void 0:n.fileUrl)||void 0})),name:g.e().required("El nombre es requerido").min(3,"Minimo 3 letras"),lastName:g.e().required("El apellido es requerido").min(3,"Minimo 3 letras"),email:g.e().email("Ingresa un email v\xe1lido").required("El email es requerido"),about:g.e()})});return Object(X.jsxs)(Gn,{children:[Object(X.jsx)("h4",{children:"Editar informacion"}),Object(X.jsxs)("form",{className:"form-reg-user",onSubmit:r.handleSubmit,children:["Foto de perfil",n&&Object(X.jsx)(de,{name:"photo",onChange:function(e){return r.setFieldValue("photo",Object(j.a)(e.target.files))},user:n,formik:r}),Object(X.jsx)(tt,{type:"text",name:"name",placeholder:"Ingrese su nombre",user:n,formik:r}),Object(X.jsx)(tt,{type:"text",name:"lastName",placeholder:"Ingrese su nombre",user:n,formik:r}),Object(X.jsx)(tt,{type:"text",name:"email",placeholder:"Ingrese su nombre",user:n,formik:r}),Object(X.jsx)(tt,{name:"about",placeholder:"Escribe un poco sobre ti",user:n,formik:r,Component:$n}),Object(X.jsx)(Zn,{type:"submit",children:"Editar"})]})]})}function tt(e){var n=en.a.mark(c),t=e.user,r=e.formik,a=e.Component,i=void 0===a?G:a,s=Object(V.a)(e,et);function c(){var e;return en.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,!1;case 2:e=n.sent;case 3:if(e){n.next=9;break}return n.next=6,!1;case 6:e=n.sent,n.next=3;break;case 9:return n.next=12,!0;case 12:n.next=9;break;case 14:case"end":return n.stop()}}),n)}var o=f.a.useRef(c());return Object(X.jsx)(i,Object(x.a)(Object(x.a)({},s),{},{onChange:r.handleChange,error:r.errors[s.name],value:o.current.next(r.values[s.name]).value?r.values[s.name]:null===t||void 0===t?void 0:t[s.name]}))}var rt=M.a.div(Xn||(Xn=Object(W.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    & > div {\n        width: 80% !important;\n    }\n"]))),at=M.a.div(Yn||(Yn=Object(W.a)(["\n    display: flex;\n    align-items: center;\n    width: 80%;\n    margin: 0;\n\n    & > button { \n        all: initial;\n        font-family: inherit;\n        padding: 0.5em 1em;\n        margin: 0.5em;\n        margin-right: 2em;\n        cursor: pointer;\n        background: #6314a8;\n        color: #FFF;\n    }\n\n    & > button:nth-child(2) {\n        background: #666;\n    }\n"]))),it=t(338),st=t.n(it);function ct(){var e=Object(y.c)(),n=Object(ve.f)(),t=Object(p.useRef)(null),r=Object(p.useState)(""),a=Object(v.a)(r,2),i=a[0],s=a[1];return Object(X.jsxs)(rt,{children:[Object(X.jsx)("h3",{children:"Crea una nueva publicaci\xf3n"}),Object(X.jsx)(st.a,{ref:t,value:i,config:{readonly:!1,height:400},onBlur:function(e){return s(e)},onChange:function(e){}}),Object(X.jsxs)(at,{children:[Object(X.jsx)("button",{onClick:function(n){return e({type:_n,payload:i})},children:"Publicar"}),Object(X.jsx)("button",{onClick:function(e){return n.push("/profile")},children:"Cancelar"})]})]})}function ot(e){Object(m.a)(e);Object(y.d)((function(e){return e.users.data}));return Object(X.jsxs)(we.a,{children:[Object(X.jsx)(sn,{}),Object(X.jsx)(Nn,{}),Object(X.jsxs)(ve.c,{children:[Object(X.jsx)(ve.a,{exact:!0,path:"/",children:Object(X.jsx)(fn,{})}),Object(X.jsx)(ve.a,{exact:!0,path:"/signup",children:Object(X.jsx)(ge,{})}),Object(X.jsx)(ve.a,{exact:!0,path:"/login",children:Object(X.jsx)(ke,{})}),Object(X.jsx)(ve.a,{exact:!0,path:"/change-password",children:Object(X.jsx)(Qn,{})}),Object(X.jsx)(ve.a,{exact:!0,path:"/profile",children:Object(X.jsx)(Xe,{})}),Object(X.jsx)(ve.a,{exact:!0,path:"/profile/:id",children:Object(X.jsx)(Kn,{})}),Object(X.jsx)(ve.a,{exact:!0,path:"/search/user",children:Object(X.jsx)(kn,{})}),Object(X.jsx)(ve.a,{exact:!0,path:"/edit-info",children:Object(X.jsx)(nt,{})}),Object(X.jsx)(ve.a,{exact:!0,path:"/write-blog",children:Object(X.jsx)(ct,{})})]})]})}var ut=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,797)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,i=n.getLCP,s=n.getTTFB;t(e),r(e),a(e),i(e),s(e)}))},lt=t(11),dt=t.n(lt),pt=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PARSE_APPLICATION_ID||"2YSu7dqmdmWtt791VxY3tioYJztLGWVpfXjM3eUU",ft=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PARSE_HOST_URL||"https://parseapi.back4app.com/",bt=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PARSE_JAVASCRIPT_KEY||"hdqhA76TdKyTFP1Udz4ToDzcE1ZQbVNnqlD1uT2x",ht=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PARSE_REST_API_KEY||"eQkuqwK1kSeWTXfjcBNWmIxpBxpJJeSqeXUTDGJD";function mt(){dt.a.initialize(pt,bt),dt.a.serverURL=ft}function jt(){return(jt=Object(nn.a)(en.a.mark((function e(n){var t,r,a,i;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mt(),(t=n).userId=Ie(),r=t.email,a=t.password,e.next=6,dt.a.User.signUp(r,a);case 6:return i=e.sent,delete t.password,delete t.repeatPassword,Object.entries(t).forEach((function(e){return i.set(e[0],e[1])})),e.next=12,i.save();case 12:return e.abrupt("return",{message:"Usuario ingresado con \xe9xito"});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xt(){return(xt=Object(nn.a)(en.a.mark((function e(n){var t,r,a;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mt(),t=n.email,r=n.password,e.next=4,dt.a.User.logIn(t,r);case 4:return e.next=6,e.sent.toJSON();case 6:return a=e.sent,e.abrupt("return",{message:"Logeado con \xe9xito",user:a});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vt(){return(vt=Object(nn.a)(en.a.mark((function e(){var n;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mt(),e.next=3,dt.a.User.current();case 3:return e.next=5,e.sent.toJSON();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gt(){return(gt=Object(nn.a)(en.a.mark((function e(){var n,t,r;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mt(),n=new dt.a.Query("User"),e.next=4,n.findAll();case 4:return t=e.sent,r=t.map(De),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ot(){return(Ot=Object(nn.a)(en.a.mark((function e(){return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mt(),e.next=3,dt.a.User.logOut();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yt(){return(yt=Object(nn.a)(en.a.mark((function e(n){var t,r;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mt(),(t=new dt.a.Query("User")).equalTo("userId",n),e.next=5,t.first();case 5:return e.next=7,e.sent.toJSON();case 7:return r=e.sent,e.abrupt("return",{user:r});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wt(){return(wt=Object(nn.a)(en.a.mark((function e(n){var t,r;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mt(),(t=new dt.a.Query("User")).equalTo("userId",n.userId),e.next=5,t.first();case 5:return(r=e.sent).set("name",n.name),r.set("lastName",n.lastName),r.set("email",n.email),r.set("about",n.about),r.set("fileUrl",n.fileUrl),r.save(),e.abrupt("return",{message:"Editado con \xe9xito"});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kt(){return(kt=Object(nn.a)(en.a.mark((function e(n){return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mt(),e.next=3,dt.a.User.requestPasswordReset(n);case 3:return e.abrupt("return",{message:"Te hemos enviado un email para cambiar tu contrase\xf1a"});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var St={saveUser:function(e){return jt.apply(this,arguments)},login:function(e){return xt.apply(this,arguments)},currentUser:function(){return vt.apply(this,arguments)},logout:function(){return Ot.apply(this,arguments)},getAll:function(){return gt.apply(this,arguments)},byId:function(e){return yt.apply(this,arguments)},update:function(e){return wt.apply(this,arguments)},passwordReset:function(e){return kt.apply(this,arguments)}},Et=t(339),Ct=t.n(Et),Ft=function(){return Math.random().toString(16).slice(2)};function Ut(){dt.a.initialize(pt,bt),dt.a.serverURL=ft}var Rt=function(e){return new Promise((function(n,t){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return n(r.result)},r.onerror=function(e){return t(e)}}))};function It(){return(It=Object(nn.a)(en.a.mark((function e(n){var t,r,a,i,s,c,o,u,l,d;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ut(),e.prev=1,s=Ft(),e.next=5,Rt(n);case 5:return c=e.sent,o=new dt.a.File("newfile.png",{base64:c}),u=dt.a.Object.extend("Files"),(l=new u).set("file",o),l.set("fileId",s),e.next=13,l.save();case 13:return e.next=15,Ct()("https://parseapi.back4app.com/classes/Files",{headers:{"X-Parse-Application-Id":pt,"X-Parse-REST-API-Key":ht}});case 15:return d=e.sent,e.abrupt("return",null===d||void 0===d||null===(t=d.data)||void 0===t||null===(r=t.results)||void 0===r||null===(a=r.find((function(e){return e.fileId===s})))||void 0===a||null===(i=a.file)||void 0===i?void 0:i.url);case 19:e.prev=19,e.t0=e.catch(1),console.log(e.t0);case 22:case 23:case"end":return e.stop()}}),e,null,[[1,19]])})))).apply(this,arguments)}dt.a.initialize(pt,bt),dt.a.serverURL=ft;var Dt={saveFile:function(e){return It.apply(this,arguments)}};function qt(){dt.a.initialize(pt,bt),dt.a.serverURL=ft}function _t(){return(_t=Object(nn.a)(en.a.mark((function e(n){var t,r,a,i;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qt(),e.next=3,dt.a.User.current().toJSON();case 3:return t=e.sent,e.next=6,new dt.a.Query("User").contains("userId",n).first();case 6:if(r=e.sent,n!==t.userId){e.next=9;break}throw new Error("No es posible mandar la solicitud");case 9:return a=new dt.a.Object("FriendRequests"),(i=new dt.a.Query("FriendRequests")).contains("from",t.userId),i.contains("to",n),e.next=16,i.first();case 16:if(!e.sent){e.next=18;break}throw new Error("Una solicitud ya ha sido enviada");case 18:return a.set("from",t.userId),a.set("to",n),a.set("fromUser",t),a.set("toUser",r.toJSON()),a.set("accepted",!1),a.save(),e.abrupt("return",{message:"Solicitud enviada"});case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tt(){return(Tt=Object(nn.a)(en.a.mark((function e(){var n,t,r,a;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new dt.a.Query("FriendRequests"),e.next=3,dt.a.User.current().toJSON();case 3:return t=e.sent,r=t.userId,n.contains("to",r),e.next=8,n.find();case 8:return a=e.sent.map((function(e){return e.toJSON()})).filter((function(e){return!1===e.accepted})),e.abrupt("return",{friends:a});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function At(){return(At=Object(nn.a)(en.a.mark((function e(n){var t,r,a,i,s,c,o;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.from,r=n.to,qt(),e.next=4,dt.a.User.current();case 4:return a=e.sent,e.next=7,new dt.a.Query("User").contains("userId",t).first();case 7:return i=e.sent,s=a.friends||[],a.set("friends",[].concat(Object(j.a)(s),[i])),e.next=12,a.save();case 12:return(c=new dt.a.Query("FriendRequests")).contains("from",t),c.contains("to",r),e.next=17,c.first();case 17:return(o=e.sent).set("accepted",!0),e.next=21,o.save();case 21:return e.abrupt("return",{message:"Amigo a\xf1adido"});case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nt(){return(Nt=Object(nn.a)(en.a.mark((function e(n){var t,r,a,i;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.to,r=n.from,(a=new dt.a.Query("FriendRequests")).contains("from",r),a.contains("to",t),e.next=6,a.first();case 6:return i=e.sent,e.next=9,i.destroy();case 9:return e.abrupt("return",{message:"Solicitud eliminada"});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pt(){return(Pt=Object(nn.a)(en.a.mark((function e(n){var t,r;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dt.a.User.current();case 2:return t=e.sent,r=(r=t.toJSON().friends||[]).filter((function(e){return e.userId!==n.userId})),t.set("friends",r),t.save(),e.abrupt("return",{message:"Amigo eliminado"});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Lt={friendRequest:function(e){return _t.apply(this,arguments)},getFriendRequests:function(){return Tt.apply(this,arguments)},accept:function(e){return At.apply(this,arguments)},decline:function(e){return Nt.apply(this,arguments)},deleteFriend:function(e){return Pt.apply(this,arguments)}};function Bt(){dt.a.initialize(pt,bt),dt.a.serverURL=ft}function zt(){return(zt=Object(nn.a)(en.a.mark((function e(n){var t,r,a,i;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bt(),e.next=3,dt.a.User.current();case 3:return t=e.sent.toJSON(),r=t.userId,a=new dt.a.Object("Blogs"),i=new Date(Date.now()).toLocaleDateString(),a.set("author",r),a.set("content",n),a.set("date",i),a.save(),e.abrupt("return",{message:"Blog publicado con exito"});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kt(){return(Kt=Object(nn.a)(en.a.mark((function e(){var n,t,r,a;return en.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dt.a.User.current();case 2:return n=e.sent.toJSON(),t=n.userId,(r=new dt.a.Query("Blogs")).contains("author",t),e.next=8,r.findAll();case 8:return a=e.sent.map((function(e){return e.toJSON()})),console.log("TODOS LOS BLOGS",a),e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Vt={post:function(e){return zt.apply(this,arguments)},getAll:function(){return Kt.apply(this,arguments)}},Wt={users:St,files:Dt,friends:Lt,blogs:Vt};var Mt="DEV"===(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).MOBSTER_MODE||"DEV")?function(){var e;(e=console).log.apply(e,arguments)}:function(){},Jt={api:Wt,log:Mt},Ht=t(120),Qt={type:"",message:"",show:!1},Xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt,n=arguments.length>1?arguments[1]:void 0,t=n.type,r=n.payload;switch(t){case Sn:return{type:"success",message:r,show:!0};case En:return{type:"warning",message:r,show:!0};case Cn:return{type:"error",message:r,show:!0};case Fn:return Qt;default:return e}},Yt={fileUrl:""},Gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt,n=arguments.length>1?arguments[1]:void 0;return n.type===K?(console.log("FROM REDUCER",n.payload),{fileUrl:n.payload}):e},Zt={loggedIn:!1,data:null,foundUser:{},all:[]},$t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case S:var t=e.data?Object(x.a)(Object(x.a)({},e.data),n.payload):n.payload;return{loggedIn:Boolean(n.payload),data:t};case U:return Object(x.a)(Object(x.a)({},e),{},{all:n.payload});case I:return Object(x.a)(Object(x.a)({},e),{},{foundUser:n.payload});default:return e}},er={friendRequests:[]},nr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er,n=arguments.length>1?arguments[1]:void 0;return console.log("friends from reducer: ",n),n.type===We?{friendRequests:n.payload}:e},tr={href:"",go:!1},rr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tr,n=arguments.length>1?arguments[1]:void 0;return n.type===Dn?(console.log(n.payload),n.payload):e},ar={all:[]};var ir,sr,cr=Object(Ht.b)({alert:Xt,files:Gt,users:$t,location:rr,friends:nr,blogs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ar,n=arguments.length>1?arguments[1]:void 0;return n.type===Tn?{all:n.payload}:e}}),or=[function(e){var n=e.api;return function(e){var t=e.dispatch;return function(e){return function(){var r=Object(nn.a)(en.a.mark((function r(a){var i;return en.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.type!==w){r.next=11;break}return r.prev=1,r.next=4,n.users.saveUser(a.payload);case 4:i=r.sent,t(Un(i.message)),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),t(Rn(r.t0.message));case 11:e(a);case 12:case"end":return r.stop()}}),r,null,[[1,8]])})));return function(e){return r.apply(this,arguments)}}()}}},function(e){var n=e.api,t=e.log;return function(e){var r=e.dispatch;return function(e){return function(){var a=Object(nn.a)(en.a.mark((function a(i){var s;return en.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t(z),i.type!==z){a.next=6;break}return a.next=4,n.files.saveFile(i.payload);case 4:s=a.sent,r({type:K,payload:s});case 6:e(i);case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}}},function(e){var n=e.api;return function(e){var t=e.dispatch;return function(e){return function(){var r=Object(nn.a)(en.a.mark((function r(a){var i;return en.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.type!==k){r.next=13;break}return r.prev=1,r.next=4,n.users.login(a.payload);case 4:i=r.sent,t(Un(i.message)),t(T(i.user)),t(qn({href:"/profile",go:!0})),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),t(Rn(r.t0.message));case 13:e(a);case 14:case"end":return r.stop()}}),r,null,[[1,10]])})));return function(e){return r.apply(this,arguments)}}()}}},function(e){var n=e.api;return function(e){var t=e.dispatch;return function(e){return function(){var r=Object(nn.a)(en.a.mark((function r(a){var i;return en.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.type!==E){r.next=11;break}return r.prev=1,r.next=4,n.users.currentUser();case 4:i=r.sent,t(T(i)),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),t(Rn(r.t0.message));case 11:e(a);case 12:case"end":return r.stop()}}),r,null,[[1,8]])})));return function(e){return r.apply(this,arguments)}}()}}},function(e){var n=e.api;return function(e){var t=e.dispatch;return function(e){return function(){var r=Object(nn.a)(en.a.mark((function r(a){return en.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.type!==C){r.next=11;break}return r.prev=1,r.next=4,n.users.logout();case 4:t(T(null)),t(qn({href:"/",go:!0})),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),t(Rn(r.t0.message));case 11:e(a);case 12:case"end":return r.stop()}}),r,null,[[1,8]])})));return function(e){return r.apply(this,arguments)}}()}}},function(e){var n=e.api;return function(e){var t=e.dispatch;return function(e){return function(){var r=Object(nn.a)(en.a.mark((function r(a){var i;return en.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.type!==F){r.next=5;break}return r.next=3,n.users.getAll();case 3:i=r.sent,t(L(i));case 5:e(a);case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}}},function(e){var n=e.api;return function(e){var t=e.dispatch;return function(e){return function(){var r=Object(nn.a)(en.a.mark((function r(a){var i,s;return en.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.type!==R){r.next=6;break}return r.next=3,n.users.byId(a.payload);case 3:i=r.sent,s=i.user,t(B(s));case 6:e(a);case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}}},function(e){var n=e.api;return function(e){var t=e.dispatch;return function(e){return function(){var r=Object(nn.a)(en.a.mark((function r(a){var i;return en.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.type!==D){r.next=13;break}return r.prev=1,r.next=4,n.users.update(a.payload);case 4:i=r.sent,t(Un(i.message)),t(T(a.payload)),t(qn({href:"/profile",go:!0})),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),t(Rn(r.t0.message));case 13:e(a);case 14:case"end":return r.stop()}}),r,null,[[1,10]])})));return function(e){return r.apply(this,arguments)}}()}}},function(e){var n=e.api;return function(e){var t=e.dispatch;return function(e){return function(){var r=Object(nn.a)(en.a.mark((function r(a){var i,s,c;return en.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.type!==q){r.next=19;break}return r.prev=1,r.next=4,n.files.saveFile(a.payload);case 4:return i=r.sent,r.next=7,n.users.currentUser();case 7:return s=r.sent,r.next=10,n.users.update(Object(x.a)(Object(x.a)({},s),{},{fileUrl:i}));case 10:return r.next=12,n.users.currentUser();case 12:c=r.sent,t(T(c)),r.next=19;break;case 16:r.prev=16,r.t0=r.catch(1),t(Rn(r.t0.message));case 19:e(a);case 20:case"end":return r.stop()}}),r,null,[[1,16]])})));return function(e){return r.apply(this,arguments)}}()}}},function(e){var n=e.api;return function(e){var t=e.dispatch;return function(e){return function(){var r=Object(nn.a)(en.a.mark((function r(a){var i,s;return en.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.type!==_){r.next=12;break}return r.prev=1,r.next=4,n.users.passwordReset(a.payload);case 4:i=r.sent,s=i.message,t(Un(s)),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),t(Rn(r.t0.message));case 12:e(a);case 13:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}()}}},function(e){var n=e.api,t=e.log;return function(e){var r=e.dispatch;return function(e){return function(){var a=Object(nn.a)(en.a.mark((function a(i){var s,c;return en.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(i.type!==Ke){a.next=13;break}return a.prev=1,a.next=4,n.friends.friendRequest(i.payload);case 4:s=a.sent,c=s.message,r(Un(c)),t("FROM MDW"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),r(Rn(a.t0.message));case 13:e(i);case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}()}}},function(e){var n=e.api;return function(e){var t=e.dispatch;return function(e){return function(){var r=Object(nn.a)(en.a.mark((function r(a){var i,s;return en.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.type!==Ve){r.next=12;break}return r.prev=1,r.next=4,n.friends.getFriendRequests();case 4:i=r.sent,s=i.friends,t(Qe(s)),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),t(Rn(r.t0.message));case 12:e(a);case 13:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}()}}},function(e){var n=e.api;e.log;return function(e){var t=e.dispatch;return function(e){return function(){var r=Object(nn.a)(en.a.mark((function r(a){var i,s,c,o;return en.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.type!==Je){r.next=17;break}return r.prev=1,r.next=4,n.friends.decline(a.payload);case 4:return i=r.sent,s=i.message,r.next=8,n.friends.getFriendRequests();case 8:c=r.sent,o=c.friends,t(Qe(o)),t(Un(s)),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(1),t(Rn(r.t0.message));case 17:e(a);case 18:case"end":return r.stop()}}),r,null,[[1,14]])})));return function(e){return r.apply(this,arguments)}}()}}},function(e){var n=e.api;e.log;return function(e){var t=e.dispatch;return function(e){return function(){var r=Object(nn.a)(en.a.mark((function r(a){var i,s,c,o;return en.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.type!==Me){r.next=17;break}return r.prev=1,r.next=4,n.friends.accept(a.payload);case 4:return i=r.sent,s=i.message,r.next=8,n.friends.getFriendRequests();case 8:c=r.sent,o=c.friends,t(Qe(o)),t(Un(s)),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(1),t(Rn(r.t0.message));case 17:e(a);case 18:case"end":return r.stop()}}),r,null,[[1,14]])})));return function(e){return r.apply(this,arguments)}}()}}},function(e){var n=e.api;e.log;return function(e){var t=e.dispatch;return function(e){return function(){var r=Object(nn.a)(en.a.mark((function r(a){var i,s,c;return en.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.type!==He){r.next=16;break}return r.prev=1,r.next=4,n.friends.deleteFriend(a.payload);case 4:return i=r.sent,s=i.message,r.next=8,n.users.currentUser();case 8:c=r.sent,t(T(c)),t(Un(s)),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(1),t(Rn(r.t0.message));case 16:e(a);case 17:case"end":return r.stop()}}),r,null,[[1,13]])})));return function(e){return r.apply(this,arguments)}}()}}},function(e){var n=e.api;e.log;return function(e){var t=e.dispatch;return function(e){return function(){var r=Object(nn.a)(en.a.mark((function r(a){var i,s;return en.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.type!==_n){r.next=13;break}return r.prev=1,r.next=4,n.blogs.post(a.payload);case 4:i=r.sent,s=i.message,t(Un(s)),t(qn({href:"/profile",go:!0})),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),t(Rn(r.t0.message));case 13:e(a);case 14:case"end":return r.stop()}}),r,null,[[1,10]])})));return function(e){return r.apply(this,arguments)}}()}}},function(e){var n=e.api;e.log;return function(e){var t=e.dispatch;return function(e){return function(){var r=Object(nn.a)(en.a.mark((function r(a){var i;return en.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.type!==An){r.next=11;break}return r.prev=1,r.next=4,n.blogs.getAll();case 4:i=r.sent,t({type:Tn,payload:i}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),t(Rn(r.t0.message));case 11:e(a);case 12:case"end":return r.stop()}}),r,null,[[1,8]])})));return function(e){return r.apply(this,arguments)}}()}}}],ur=M.a.div(ir||(ir=Object(W.a)(["\n    * {\n        font-family: 'Poppins', sans-serif;\n        box-sizing: border-box;\n    }\n"])));h.a.render(Object(X.jsx)(y.a,{store:(sr=Jt,Object(Ht.d)(cr,Object(Ht.c)(Ht.a.apply(void 0,Object(j.a)(or.map((function(e){return e(sr)}))))))),children:Object(X.jsx)(ur,{children:Object(X.jsx)(ot,{})})}),document.getElementById("root")),ut()}},[[794,1,2]]]);
//# sourceMappingURL=main.41aab581.chunk.js.map